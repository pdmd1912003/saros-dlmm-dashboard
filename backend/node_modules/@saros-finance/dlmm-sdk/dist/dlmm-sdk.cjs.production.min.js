"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var n,t,a,r,i=require("@solana/web3.js"),o=require("@coral-xyz/anchor"),s=require("@solana/spl-token"),u=require("buffer"),c=e(require("lodash/cloneDeep")),m=e(require("js-big-decimal")),p=require("@coral-xyz/anchor/dist/cjs/utils/bytes");function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}function _(e,n,t,a,r,i,o){try{var s=e[i](o),u=s.value}catch(e){return void t(e)}s.done?n(u):Promise.resolve(u).then(a,r)}function l(e){return function(){var n=this,t=arguments;return new Promise((function(a,r){var i=e.apply(n,t);function o(e){_(i,a,r,o,s,"next",e)}function s(e){_(i,a,r,o,s,"throw",e)}o(void 0)}))}}function y(e,n,t){if(g())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,n);var r=new(e.bind.apply(e,a));return t&&A(r,t.prototype),r}function k(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return d(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(null,arguments)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,A(e,n)}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function v(){var e,n,t="function"==typeof Symbol?Symbol:{},a=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function i(t,a,r,i){var u=Object.create((a&&a.prototype instanceof s?a:s).prototype);return w(u,"_invoke",function(t,a,r){var i,s,u,c=0,m=r||[],p=!1,d={p:0,n:0,v:e,a:_,f:_.bind(e,4),d:function(n,t){return i=n,s=0,u=e,d.n=t,o}};function _(t,a){for(s=t,u=a,n=0;!p&&c&&!r&&n<m.length;n++){var r,i=m[n],_=d.p,l=i[2];t>3?(r=l===a)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=_&&((r=t<2&&_<i[1])?(s=0,d.v=a,d.n=i[1]):_<l&&(r=t<3||i[0]>a||a>l)&&(i[4]=t,i[5]=a,d.n=l,s=0))}if(r||t>1)return o;throw p=!0,a}return function(r,m,l){if(c>1)throw TypeError("Generator is already running");for(p&&1===m&&_(m,l),s=m,u=l;(n=s<2?e:u)||!p;){i||(s?s<3?(s>1&&(d.n=-1),_(s,u)):d.n=u:d.v=u);try{if(c=2,i){if(s||(r="next"),n=i[r]){if(!(n=n.call(i,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,s<2&&(s=0)}else 1===s&&(n=i.return)&&n.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),s=1);i=e}else if((n=(p=d.n<0)?u:t.call(a,d))!==o)break}catch(n){i=e,s=1,u=n}finally{c=1}}return{value:n,done:p}}}(t,r,i),!0),u}var o={};function s(){}function u(){}function c(){}n=Object.getPrototypeOf;var m=[][a]?n(n([][a]())):(w(n={},a,(function(){return this})),n),p=c.prototype=s.prototype=Object.create(m);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,w(e,r,"GeneratorFunction")),e.prototype=Object.create(p),e}return u.prototype=c,w(p,"constructor",c),w(c,"constructor",u),u.displayName="GeneratorFunction",w(c,r,"GeneratorFunction"),w(p),w(p,r,"Generator"),w(p,a,(function(){return this})),w(p,"toString",(function(){return"[object Generator]"})),(v=function(){return{w:i,m:d}})()}function w(e,n,t,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}(w=function(e,n,t,a){if(n)r?r(e,n,{value:t,enumerable:!a,configurable:!a,writable:!a}):e[n]=t;else{function i(n,t){w(e,n,(function(e){return this._invoke(n,t,e)}))}i("next",0),i("throw",1),i("return",2)}})(e,n,t,a)}function P(e){if(null!=e){var n=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],t=0;if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}throw new TypeError(typeof e+" is not iterable")}function A(e,n){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function B(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof n?n:n+""}function I(e){var n="function"==typeof Map?new Map:void 0;return(I=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(n){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return y(e,arguments,f(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),A(t,e)})(e)}(n=exports.MODE||(exports.MODE={})).TESTNET="testnet",n.DEVNET="devnet",n.MAINNET="mainnet",(t=exports.LiquidityShape||(exports.LiquidityShape={})).Spot="Spot",t.Curve="Curve",t.BidAsk="BidAsk",(a=exports.RemoveLiquidityType||(exports.RemoveLiquidityType={})).Both="removeBoth",a.BaseToken="removeBaseToken",a.QuoteToken="removeQuoteToken";var S=((r={})[exports.MODE.TESTNET]={rpc:"https://api.testnet.solana.com"},r[exports.MODE.DEVNET]={rpc:"https://api.devnet.solana.com"},r[exports.MODE.MAINNET]={rpc:"https://api.mainnet-beta.solana.com"},r),x=Math.floor(1157407.4074074074),q="So11111111111111111111111111111111111111112",E={address:"1qbkdrr3z4ryLA7pZykqxvxWPoeifcVKo6ZG9CfkvVE",metadata:{name:"liquidity_book",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},instructions:[{name:"accept_config_ownership",discriminator:[6,212,14,48,229,38,62,241],accounts:[{name:"liquidity_book_config",writable:!0},{name:"pending_preset_authority",signer:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"close_position",discriminator:[123,134,81,0,49,68,98,98],accounts:[{name:"pair",writable:!0,relations:["position","bin_array_lower","bin_array_upper"]},{name:"position",writable:!0},{name:"position_mint",writable:!0},{name:"position_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"position_token_program"},{kind:"account",path:"position_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"bin_array_lower",writable:!0},{name:"bin_array_upper",writable:!0},{name:"token_mint_x",relations:["pair"]},{name:"token_mint_y",relations:["pair"]},{name:"token_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"token_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user",signer:!0},{name:"token_program_x"},{name:"token_program_y"},{name:"position_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"memo_program",address:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"},{name:"hook",writable:!0,optional:!0},{name:"hooks_program",optional:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"create_position",discriminator:[48,215,197,153,96,203,180,133],accounts:[{name:"pair"},{name:"position",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110]},{kind:"account",path:"position_mint"}]}},{name:"position_mint",writable:!0,signer:!0},{name:"position_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program"},{kind:"account",path:"position_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"relative_bin_id_left",type:"i32"},{name:"relative_bin_in_right",type:"i32"}]},{name:"decrease_position",discriminator:[57,125,21,59,200,137,179,108],accounts:[{name:"pair",writable:!0,relations:["position","bin_array_lower","bin_array_upper"]},{name:"position",writable:!0},{name:"position_mint",writable:!0},{name:"position_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"position_token_program"},{kind:"account",path:"position_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"bin_array_lower",writable:!0},{name:"bin_array_upper",writable:!0},{name:"token_mint_x",relations:["pair"]},{name:"token_mint_y",relations:["pair"]},{name:"token_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"token_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user",signer:!0},{name:"token_program_x"},{name:"token_program_y"},{name:"position_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"memo_program",address:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"},{name:"hook",writable:!0,optional:!0},{name:"hooks_program",optional:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"shares",type:{vec:"u128"}}]},{name:"increase_position",discriminator:[253,234,128,104,192,188,45,91],accounts:[{name:"pair",writable:!0,relations:["position","bin_array_lower","bin_array_upper"]},{name:"position",writable:!0},{name:"position_mint",writable:!0},{name:"position_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"position_token_program"},{kind:"account",path:"position_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"bin_array_lower",writable:!0},{name:"bin_array_upper",writable:!0},{name:"token_mint_x",relations:["pair"]},{name:"token_mint_y",relations:["pair"]},{name:"token_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"token_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user",signer:!0},{name:"token_program_x"},{name:"token_program_y"},{name:"position_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"memo_program",address:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"},{name:"hook",writable:!0,optional:!0},{name:"hooks_program",optional:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"amount_x",type:"u64"},{name:"amount_y",type:"u64"},{name:"liquidity_distribution",type:{vec:{defined:{name:"BinLiquidityDistribution"}}}}]},{name:"initialize_bin_array",discriminator:[35,86,19,185,78,212,75,211],accounts:[{name:"pair"},{name:"bin_array",writable:!0,pda:{seeds:[{kind:"const",value:[98,105,110,95,97,114,114,97,121]},{kind:"account",path:"pair"},{kind:"arg",path:"index"}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"id",type:"u32"}]},{name:"initialize_bin_step_config",discriminator:[2,168,136,251,163,9,132,255],accounts:[{name:"liquidity_book_config"},{name:"bin_step_config",writable:!0,pda:{seeds:[{kind:"const",value:[98,105,110,95,115,116,101,112,95,99,111,110,102,105,103]},{kind:"account",path:"liquidity_book_config"},{kind:"arg",path:"bin_step"}]}},{name:"preset_authority",writable:!0,signer:!0,relations:["liquidity_book_config"]},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"bin_step",type:"u8"},{name:"availability",type:{defined:{name:"ConfigAvailability"}}},{name:"fee_parameters",type:{defined:{name:"StaticFeeParameters"}}}]},{name:"initialize_config",discriminator:[208,127,21,1,194,190,196,70],accounts:[{name:"config",writable:!0,signer:!0},{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"fee_authority",type:"pubkey"}]},{name:"initialize_pair",discriminator:[177,114,226,34,186,150,5,245],accounts:[{name:"liquidity_book_config"},{name:"token_mint_x"},{name:"token_mint_y"},{name:"bin_step_config",pda:{seeds:[{kind:"const",value:[98,105,110,95,115,116,101,112,95,99,111,110,102,105,103]},{kind:"account",path:"liquidity_book_config"},{kind:"account",path:"bin_step_config.bin_step",account:"BinStepConfig"}]}},{name:"quote_asset_badge",pda:{seeds:[{kind:"const",value:[113,117,111,116,101,95,97,115,115,101,116,95,98,97,100,103,101]},{kind:"account",path:"liquidity_book_config"},{kind:"account",path:"token_mint_y"}]}},{name:"pair",writable:!0,pda:{seeds:[{kind:"const",value:[112,97,105,114]},{kind:"account",path:"liquidity_book_config"},{kind:"account",path:"token_mint_x"},{kind:"account",path:"token_mint_y"},{kind:"account",path:"bin_step_config.bin_step",account:"BinStepConfig"}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"active_id",type:"u32"}]},{name:"initialize_quote_asset_badge",discriminator:[115,174,34,42,176,5,229,207],accounts:[{name:"liquidity_book_config"},{name:"quote_asset_badge",writable:!0,pda:{seeds:[{kind:"const",value:[113,117,111,116,101,95,97,115,115,101,116,95,98,97,100,103,101]},{kind:"account",path:"liquidity_book_config"},{kind:"account",path:"token_mint"}]}},{name:"token_mint"},{name:"preset_authority",writable:!0,signer:!0,relations:["liquidity_book_config"]},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"set_hook",discriminator:[175,16,187,252,19,54,111,221],accounts:[{name:"liquidity_book_config",relations:["pair"]},{name:"pair",writable:!0},{name:"preset_authority",signer:!0,relations:["liquidity_book_config"]},{name:"hook",writable:!0,optional:!0},{name:"hooks_program",optional:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"swap",discriminator:[248,198,158,145,225,117,135,200],accounts:[{name:"pair",writable:!0,relations:["bin_array_lower","bin_array_upper"]},{name:"token_mint_x",relations:["pair"]},{name:"token_mint_y",relations:["pair"]},{name:"bin_array_lower",writable:!0},{name:"bin_array_upper",writable:!0},{name:"token_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"token_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_vault_x",writable:!0},{name:"user_vault_y",writable:!0},{name:"user",signer:!0},{name:"token_program_x"},{name:"token_program_y"},{name:"memo_program",address:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"},{name:"hook",writable:!0,optional:!0},{name:"hooks_program",optional:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"amount",type:"u64"},{name:"other_amount_threshold",type:"u64"},{name:"swap_for_y",type:"bool"},{name:"swap_type",type:{defined:{name:"SwapType"}}}]},{name:"transfer_config_ownership",discriminator:[53,124,67,226,108,130,19,12],accounts:[{name:"liquidity_book_config",writable:!0},{name:"preset_authority",signer:!0,relations:["liquidity_book_config"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"new_authority",type:{option:"pubkey"}}]},{name:"update_bin_step_config",discriminator:[205,204,206,220,251,239,19,238],accounts:[{name:"liquidity_book_config",relations:["bin_step_config"]},{name:"bin_step_config",writable:!0},{name:"preset_authority",signer:!0,relations:["liquidity_book_config"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"status",type:{defined:{name:"ConfigStatus"}}},{name:"availability",type:{defined:{name:"ConfigAvailability"}}},{name:"fee_parameters",type:{defined:{name:"StaticFeeParameters"}}}]},{name:"update_pair_static_fee_parameters",discriminator:[20,223,186,73,199,65,45,80],accounts:[{name:"liquidity_book_config",relations:["pair"]},{name:"pair",writable:!0},{name:"preset_authority",signer:!0,relations:["liquidity_book_config"]},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"fee_parameters",type:{defined:{name:"StaticFeeParameters"}}}]},{name:"update_quote_asset_badge",discriminator:[42,12,208,17,29,174,196,103],accounts:[{name:"liquidity_book_config"},{name:"quote_asset_badge",writable:!0,pda:{seeds:[{kind:"const",value:[113,117,111,116,101,95,97,115,115,101,116,95,98,97,100,103,101]},{kind:"account",path:"liquidity_book_config"},{kind:"account",path:"token_mint"}]}},{name:"token_mint"},{name:"preset_authority",signer:!0,relations:["liquidity_book_config"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"status",type:{defined:{name:"QuoteAssetBadgeStatus"}}}]},{name:"withdraw_protocol_fees",discriminator:[11,68,165,98,18,208,134,73],accounts:[{name:"liquidity_book_config",relations:["pair"]},{name:"pair",writable:!0},{name:"token_mint_x",relations:["pair"]},{name:"token_mint_y",relations:["pair"]},{name:"token_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"token_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"protocol_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"preset_authority"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"protocol_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"preset_authority"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"token_program_x"},{name:"token_program_y"},{name:"preset_authority",signer:!0,relations:["liquidity_book_config"]},{name:"memo_program",address:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]}],accounts:[{name:"BinArray",discriminator:[92,142,92,220,5,148,70,181]},{name:"BinStepConfig",discriminator:[44,12,82,45,127,124,191,199]},{name:"LiquidityBookConfig",discriminator:[173,36,130,129,45,178,44,86]},{name:"Pair",discriminator:[85,72,49,176,182,228,141,82]},{name:"Position",discriminator:[170,188,143,228,122,64,247,208]},{name:"QuoteAssetBadge",discriminator:[183,124,99,219,110,119,157,221]}],events:[{name:"BinArrayInitializationEvent",discriminator:[237,158,3,184,253,238,102,71]},{name:"BinStepConfigInitializationEvent",discriminator:[2,138,209,132,61,232,124,57]},{name:"BinStepConfigUpdateEvent",discriminator:[241,69,172,53,135,27,238,248]},{name:"BinSwapEvent",discriminator:[55,42,192,194,230,243,9,72]},{name:"CompositionFeesEvent",discriminator:[83,234,249,47,88,125,2,86]},{name:"LiquidityBookConfigInitializationEvent",discriminator:[90,99,66,116,24,72,145,146]},{name:"LiquidityBookConfigTransferOwnershipEvent",discriminator:[181,131,103,224,188,170,226,65]},{name:"LiquidityBookConfigTransferOwnershipInitEvent",discriminator:[69,165,109,99,223,38,229,100]},{name:"PairInitializationEvent",discriminator:[132,133,209,222,229,215,206,245]},{name:"PairStaticFeeParametersUpdateEvent",discriminator:[57,109,202,252,154,9,121,131]},{name:"PositionCreationEvent",discriminator:[97,21,205,201,62,41,111,164]},{name:"PositionDecreaseEvent",discriminator:[200,116,151,126,182,237,245,254]},{name:"PositionIncreaseEvent",discriminator:[247,40,58,113,28,175,60,174]},{name:"ProtocolFeesCollectionEvent",discriminator:[196,36,190,66,172,52,142,15]},{name:"QuoteAssetBadgeInitializationEvent",discriminator:[202,110,93,186,165,96,200,27]},{name:"QuoteAssetBadgeUpdateEvent",discriminator:[102,149,171,236,123,73,205,194]}],errors:[{code:6e3,name:"BinNotFound",msg:"Bin not found within bin array"},{code:6001,name:"InvalidAuthority",msg:"Invalid authority"},{code:6002,name:"InvalidAmounts",msg:"Invalid amounts length"},{code:6003,name:"BinArrayIndexMismatch",msg:"Bin array index mismatch"},{code:6004,name:"InvalidAmountOut",msg:"Invalid amount out"},{code:6005,name:"InvalidAmountIn",msg:"Invalid amount in"},{code:6006,name:"InvalidDistribution",msg:"Invalid distribution"},{code:6007,name:"LiquidityOverflow",msg:"Liquidity overflow"},{code:6008,name:"LiquidityUnderflow",msg:"Liquidity underflow"},{code:6009,name:"ZeroShares",msg:"Zero shares"},{code:6010,name:"NotPositionOwner",msg:"Not the owner of the position"},{code:6011,name:"InvalidStaticFeeParameters",msg:"Invalid static fee parameters"},{code:6012,name:"InvalidConfig",msg:"Invalid LB config provided"},{code:6013,name:"PairPositionMismatch",msg:"Pair and position mismatch"},{code:6014,name:"PairLowerBinArrayMismatch",msg:"Pair and lower bin array mismatch"},{code:6015,name:"PairUpperBinArrayMismatch",msg:"Pair and upper bin array mismatch"},{code:6016,name:"InactiveBinStepConfig",msg:"Inactive bin step config"},{code:6017,name:"ClosedBinStepConfig",msg:"Closed bin step config"},{code:6018,name:"InvalidQuoteAssetBadge",msg:"Invalid quote asset badge provided"},{code:6019,name:"TransferFeeCalculationError",msg:"Transfer fee calculation error"},{code:6020,name:"GetAmountOverflow",msg:"Get amount overflow error"},{code:6021,name:"AmountOverflow",msg:"Amount overflow error"},{code:6022,name:"AmountUnderflow",msg:"Amount underflow error"},{code:6023,name:"ActiveIdOverflow",msg:"Active id overflow error"},{code:6024,name:"ActiveIdUnderflow",msg:"Active id overflow error"},{code:6025,name:"InvalidBinRange",msg:"Invalid bin range"},{code:6026,name:"PairTokenMismatch",msg:"Pair Token Mismatch"},{code:6027,name:"InvalidHook",msg:"Invalid Hook Provided"},{code:6028,name:"UserVaultXMismatch",msg:"Token Account X Mismatch"},{code:6029,name:"UserVaultYMismatch",msg:"Token Account Y Mismatch"}],types:[{name:"Bin",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"total_supply",type:"u128"},{name:"reserve_x",type:"u64"},{name:"reserve_y",type:"u64"}]}},{name:"BinArray",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"bins",type:{array:[{defined:{name:"Bin"}},256]}},{name:"index",type:"u32"},{name:"_space",type:{array:["u8",12]}}]}},{name:"BinArrayInitializationEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"index",type:"u32"}]}},{name:"BinLiquidityDistribution",type:{kind:"struct",fields:[{name:"relative_bin_id",type:"i32"},{name:"distribution_x",type:"u16"},{name:"distribution_y",type:"u16"}]}},{name:"BinStepConfig",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"liquidity_book_config",type:"pubkey"},{name:"bin_step",type:"u8"},{name:"status",type:{defined:{name:"ConfigStatus"}}},{name:"availability",type:{defined:{name:"ConfigAvailability"}}},{name:"fee_parameters",type:{defined:{name:"StaticFeeParameters"}}}]}},{name:"BinStepConfigInitializationEvent",type:{kind:"struct",fields:[{name:"liquidity_book_config",type:"pubkey"},{name:"bin_step_config",type:"pubkey"},{name:"bin_step",type:"u8"},{name:"fee_parameters",type:{defined:{name:"StaticFeeParameters"}}}]}},{name:"BinStepConfigUpdateEvent",type:{kind:"struct",fields:[{name:"bin_step_config",type:"pubkey"},{name:"status",type:{defined:{name:"ConfigStatus"}}},{name:"availability",type:{defined:{name:"ConfigAvailability"}}},{name:"fee_parameters",type:{defined:{name:"StaticFeeParameters"}}}]}},{name:"BinSwapEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"swap_for_y",type:"bool"},{name:"protocol_fee",type:"u64"},{name:"bin_id",type:"u32"},{name:"amount_in",type:"u64"},{name:"amount_out",type:"u64"},{name:"volatility_accumulator",type:"u32"},{name:"fee",type:"u64"}]}},{name:"CompositionFeesEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"active_id",type:"u32"},{name:"composition_fees_x",type:"u64"},{name:"composition_fees_y",type:"u64"},{name:"protocol_fees_x",type:"u64"},{name:"protocol_fees_y",type:"u64"}]}},{name:"ConfigAvailability",type:{kind:"enum",variants:[{name:"Closed"},{name:"Open"}]}},{name:"ConfigStatus",type:{kind:"enum",variants:[{name:"Inactive"},{name:"Active"}]}},{name:"DynamicFeeParameters",type:{kind:"struct",fields:[{name:"time_last_updated",type:"u64"},{name:"volatility_accumulator",type:"u32"},{name:"volatility_reference",type:"u32"},{name:"id_reference",type:"u32"},{name:"_space",type:{array:["u8",4]}}]}},{name:"LiquidityBookConfig",type:{kind:"struct",fields:[{name:"preset_authority",type:"pubkey"},{name:"pending_preset_authority",type:{option:"pubkey"}}]}},{name:"LiquidityBookConfigInitializationEvent",type:{kind:"struct",fields:[{name:"config",type:"pubkey"},{name:"preset_authority",type:"pubkey"}]}},{name:"LiquidityBookConfigTransferOwnershipEvent",type:{kind:"struct",fields:[{name:"new_authority",type:"pubkey"}]}},{name:"LiquidityBookConfigTransferOwnershipInitEvent",type:{kind:"struct",fields:[{name:"new_pending_authority",type:{option:"pubkey"}}]}},{name:"Pair",type:{kind:"struct",fields:[{name:"bump",type:{array:["u8",1]}},{name:"liquidity_book_config",type:"pubkey"},{name:"bin_step",type:"u8"},{name:"bin_step_seed",type:{array:["u8",1]}},{name:"token_mint_x",type:"pubkey"},{name:"token_mint_y",type:"pubkey"},{name:"static_fee_parameters",type:{defined:{name:"StaticFeeParameters"}}},{name:"active_id",type:"u32"},{name:"dynamic_fee_parameters",type:{defined:{name:"DynamicFeeParameters"}}},{name:"protocol_fees_x",type:"u64"},{name:"protocol_fees_y",type:"u64"},{name:"hook",type:{option:"pubkey"}}]}},{name:"PairInitializationEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"token_mint_x",type:"pubkey"},{name:"token_mint_y",type:"pubkey"},{name:"bin_step_config",type:"pubkey"},{name:"active_id",type:"u32"}]}},{name:"PairStaticFeeParametersUpdateEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"fee_parameters",type:{defined:{name:"StaticFeeParameters"}}}]}},{name:"Position",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"position_mint",type:"pubkey"},{name:"liquidity_shares",type:{array:["u128",64]}},{name:"lower_bin_id",type:"u32"},{name:"upper_bin_id",type:"u32"},{name:"_space",type:{array:["u8",8]}}]}},{name:"PositionCreationEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"position",type:"pubkey"},{name:"position_mint",type:"pubkey"},{name:"lower_bin_id",type:"u32"},{name:"upper_bin_id",type:"u32"}]}},{name:"PositionDecreaseEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"position",type:"pubkey"},{name:"bin_ids",type:{vec:"u32"}},{name:"amounts_x",type:{vec:"u64"}},{name:"amounts_y",type:{vec:"u64"}},{name:"liquidity_burned",type:{vec:"u128"}}]}},{name:"PositionIncreaseEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"position",type:"pubkey"},{name:"bin_ids",type:{vec:"u32"}},{name:"amounts_x",type:{vec:"u64"}},{name:"amounts_y",type:{vec:"u64"}},{name:"liquidity_minted",type:{vec:"u128"}}]}},{name:"ProtocolFeesCollectionEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"protocol_fees_x",type:"u64"},{name:"protocol_fees_y",type:"u64"}]}},{name:"QuoteAssetBadge",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"status",type:{defined:{name:"QuoteAssetBadgeStatus"}}}]}},{name:"QuoteAssetBadgeInitializationEvent",type:{kind:"struct",fields:[{name:"liquidity_book_config",type:"pubkey"},{name:"quote_asset_badge",type:"pubkey"},{name:"token_mint",type:"pubkey"}]}},{name:"QuoteAssetBadgeStatus",type:{kind:"enum",variants:[{name:"Disabled"},{name:"Enabled"}]}},{name:"QuoteAssetBadgeUpdateEvent",type:{kind:"struct",fields:[{name:"quote_asset_badge",type:"pubkey"},{name:"status",type:{defined:{name:"QuoteAssetBadgeStatus"}}}]}},{name:"StaticFeeParameters",type:{kind:"struct",fields:[{name:"base_factor",type:"u16"},{name:"filter_period",type:"u16"},{name:"decay_period",type:"u16"},{name:"reduction_factor",type:"u16"},{name:"variable_fee_control",type:"u32"},{name:"max_volatility_accumulator",type:"u32"},{name:"protocol_share",type:"u16"},{name:"_space",type:{array:["u8",2]}}]}},{name:"SwapType",type:{kind:"enum",variants:[{name:"ExactInput"},{name:"ExactOutput"}]}}]},M={address:"mdmavMvJpF4ZcLJNg6VSjuKVMiBo5uKwERTg1ZB9yUH",metadata:{name:"rewarder_hook",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},instructions:[{name:"before_burn",discriminator:[7,177,19,160,28,229,57,73],accounts:[{name:"pair_account"},{name:"hook",writable:!0,relations:["active_bin_hook_bin_array_lower","active_bin_hook_bin_array_upper","position_hook_bin_array_lower","position_hook_bin_array_upper"]},{name:"position"},{name:"active_bin_array_lower"},{name:"active_bin_array_upper"},{name:"pair",signer:!0,relations:["hook"]},{name:"active_bin_hook_bin_array_lower",writable:!0},{name:"active_bin_hook_bin_array_upper",writable:!0},{name:"hook_position",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110]},{kind:"account",path:"hook"},{kind:"account",path:"position"}]}},{name:"position_hook_bin_array_lower",writable:!0},{name:"position_hook_bin_array_upper",writable:!0}],args:[]},{name:"before_mint",discriminator:[67,27,57,7,28,168,109,153],accounts:[{name:"pair_account"},{name:"hook",writable:!0,relations:["active_bin_hook_bin_array_lower","active_bin_hook_bin_array_upper","position_hook_bin_array_lower","position_hook_bin_array_upper"]},{name:"position"},{name:"active_bin_array_lower"},{name:"active_bin_array_upper"},{name:"pair",signer:!0,relations:["hook"]},{name:"active_bin_hook_bin_array_lower",writable:!0},{name:"active_bin_hook_bin_array_upper",writable:!0},{name:"hook_position",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110]},{kind:"account",path:"hook"},{kind:"account",path:"position"}]}},{name:"position_hook_bin_array_lower",writable:!0},{name:"position_hook_bin_array_upper",writable:!0}],args:[]},{name:"before_swap",discriminator:[227,59,240,68,164,9,29,254],accounts:[{name:"pair_account"},{name:"hook",writable:!0,relations:["active_bin_hook_bin_array_lower","active_bin_hook_bin_array_upper"]},{name:"active_bin_array_lower"},{name:"active_bin_array_upper"},{name:"pair",signer:!0,relations:["hook"]},{name:"active_bin_hook_bin_array_lower",writable:!0},{name:"active_bin_hook_bin_array_upper",writable:!0}],args:[]},{name:"claim",discriminator:[62,198,214,193,213,159,108,210],accounts:[{name:"hook",writable:!0,relations:["active_bin_hook_bin_array_lower","active_bin_hook_bin_array_upper","position_hook_bin_array_lower","position_hook_bin_array_upper"]},{name:"pair",relations:["hook","position","active_bin_array_lower","active_bin_array_upper"]},{name:"position"},{name:"position_mint",relations:["position"]},{name:"position_token_account",pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"position_token_program"},{kind:"account",path:"position_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"active_bin_array_lower",writable:!0},{name:"active_bin_array_upper",writable:!0},{name:"active_bin_hook_bin_array_lower",writable:!0},{name:"active_bin_hook_bin_array_upper",writable:!0},{name:"hook_position",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110]},{kind:"account",path:"hook"},{kind:"account",path:"position"}]}},{name:"position_hook_bin_array_lower",writable:!0},{name:"position_hook_bin_array_upper",writable:!0},{name:"reward_token_mint"},{name:"hook_reserve",writable:!0,relations:["hook"]},{name:"user_reserve",writable:!0},{name:"user",signer:!0},{name:"reward_token_program"},{name:"position_token_program"},{name:"memo_program",address:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"initialize_bin_array",discriminator:[35,86,19,185,78,212,75,211],accounts:[{name:"hook"},{name:"bin_array",writable:!0,pda:{seeds:[{kind:"const",value:[98,105,110,95,97,114,114,97,121]},{kind:"account",path:"hook"},{kind:"arg",path:"index"}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"index",type:"u32"}]},{name:"initialize_hook",discriminator:[37,101,119,255,156,39,252,232],accounts:[{name:"hook",writable:!0,pda:{seeds:[{kind:"const",value:[104,111,111,107]},{kind:"account",path:"hook_authority"},{kind:"arg",path:"pair"}]}},{name:"reward_token_mint"},{name:"hook_reserve",writable:!0,pda:{seeds:[{kind:"account",path:"hook"},{kind:"account",path:"reward_token_mint_token_program"},{kind:"account",path:"reward_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"hook_authority",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"reward_token_mint_token_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"lb_pair",type:"pubkey"}]},{name:"initialize_position",discriminator:[219,192,234,71,190,191,102,80],accounts:[{name:"hook"},{name:"lb_position"},{name:"position",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110]},{kind:"account",path:"hook"},{kind:"account",path:"lb_position"}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"on_hook_set",discriminator:[23,126,214,186,197,123,0,235],accounts:[{name:"pair_account"},{name:"hook"},{name:"pair",signer:!0,relations:["hook"]}],args:[]},{name:"set_reward_range",discriminator:[124,43,236,120,6,88,112,213],accounts:[{name:"hook",writable:!0,relations:["active_bin_hook_bin_array_lower","active_bin_hook_bin_array_upper"]},{name:"pair",relations:["hook","active_bin_array_lower","active_bin_array_upper"]},{name:"active_bin_array_lower",writable:!0},{name:"active_bin_array_upper",writable:!0},{name:"active_bin_hook_bin_array_lower",writable:!0},{name:"active_bin_hook_bin_array_upper",writable:!0},{name:"hook_reserve",relations:["hook"]},{name:"authority",signer:!0,relations:["hook"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"delta_bin_a",type:"i32"},{name:"delta_bin_b",type:"i32"}]},{name:"set_rewards_parameters",discriminator:[86,145,230,205,136,137,140,193],accounts:[{name:"hook",writable:!0,relations:["active_bin_hook_bin_array_lower","active_bin_hook_bin_array_upper"]},{name:"pair",relations:["hook","active_bin_array_lower","active_bin_array_upper"]},{name:"active_bin_array_lower",writable:!0},{name:"active_bin_array_upper",writable:!0},{name:"active_bin_hook_bin_array_lower",writable:!0},{name:"active_bin_hook_bin_array_upper",writable:!0},{name:"hook_reserve",relations:["hook"]},{name:"authority",signer:!0,relations:["hook"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"rewards_per_second",type:"u64"},{name:"start_time",type:"i64"},{name:"duration",type:"i64"}]},{name:"set_rewards_per_second",discriminator:[77,81,53,27,248,29,133,203],accounts:[{name:"hook",writable:!0,relations:["active_bin_hook_bin_array_lower","active_bin_hook_bin_array_upper"]},{name:"pair",relations:["hook","active_bin_array_lower","active_bin_array_upper"]},{name:"active_bin_array_lower",writable:!0},{name:"active_bin_array_upper",writable:!0},{name:"active_bin_hook_bin_array_lower",writable:!0},{name:"active_bin_hook_bin_array_upper",writable:!0},{name:"hook_reserve",relations:["hook"]},{name:"authority",signer:!0,relations:["hook"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"rewards_per_second",type:"u64"},{name:"duration",type:"i64"}]},{name:"sweep",discriminator:[40,23,234,175,14,61,154,177],accounts:[{name:"hook",writable:!0},{name:"reward_token_mint"},{name:"hook_reserve",writable:!0,relations:["hook"]},{name:"authority_reserve",writable:!0},{name:"authority",signer:!0,relations:["hook"]},{name:"reward_token_program"},{name:"memo_program",address:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"}],args:[]}],accounts:[{name:"BinArray",discriminator:[92,142,92,220,5,148,70,181]},{name:"Hook",discriminator:[125,61,76,173,200,161,92,217]},{name:"HookBinArray",discriminator:[103,134,57,58,74,234,9,157]},{name:"HookPosition",discriminator:[125,149,132,62,52,71,211,143]},{name:"Pair",discriminator:[85,72,49,176,182,228,141,82]},{name:"Position",discriminator:[170,188,143,228,122,64,247,208]}],events:[{name:"ClaimEvent",discriminator:[93,15,70,170,48,140,212,219]},{name:"DeltaBinSetEvent",discriminator:[0,208,34,219,151,91,139,244]},{name:"HookInitializationEvent",discriminator:[229,217,175,38,112,240,117,95]},{name:"RewardParametersSetEvent",discriminator:[191,11,46,163,150,8,126,245]}],errors:[{code:6e3,name:"CheckedAddSignedOverflow",msg:"Checked add signed overflow"},{code:6001,name:"CheckedAddOverflow",msg:"Checked add overflow"},{code:6002,name:"HookBinArrayIndexMismatch",msg:"Hook bin array index mismatch"},{code:6003,name:"BinNotFound",msg:"Bin not found"},{code:6004,name:"ShlDivError",msg:"Shift left division error"},{code:6005,name:"MulDivError",msg:"Mul div error"},{code:6006,name:"MulShrError",msg:"Mul shr error"},{code:6007,name:"CheckedMulOverflow",msg:"Checked Mul overflow"},{code:6008,name:"InvalidStartTime",msg:"Invalid start time"},{code:6009,name:"CheckedSubUnderflow",msg:"Checked sub underflow"},{code:6010,name:"ZeroRewards",msg:"Rewarder won't distribute any rewards"},{code:6011,name:"InvalidDeltaBins",msg:"Invalid delta bins"},{code:6012,name:"InvalidLBPosition",msg:"Invalid LB position"}],types:[{name:"Bin",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"total_supply",type:"u128"},{name:"reserve_x",type:"u64"},{name:"reserve_y",type:"u64"}]}},{name:"BinArray",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"bins",type:{array:[{defined:{name:"Bin"}},256]}},{name:"index",type:"u32"},{name:"_space",type:{array:["u8",12]}}]}},{name:"ClaimEvent",type:{kind:"struct",fields:[{name:"hook",type:"pubkey"},{name:"user",type:"pubkey"},{name:"rewards",type:"u64"}]}},{name:"DeltaBinSetEvent",type:{kind:"struct",fields:[{name:"hook",type:"pubkey"},{name:"delta_bin_a",type:"i32"},{name:"delta_bin_b",type:"i32"}]}},{name:"DynamicFeeParameters",type:{kind:"struct",fields:[{name:"time_last_updated",type:"u64"},{name:"volatility_accumulator",type:"u32"},{name:"volatility_reference",type:"u32"},{name:"id_reference",type:"u32"},{name:"_space",type:{array:["u8",4]}}]}},{name:"Hook",type:{kind:"struct",fields:[{name:"bump",type:{array:["u8",1]}},{name:"authority",type:"pubkey"},{name:"pair",type:"pubkey"},{name:"reward_token_mint",type:"pubkey"},{name:"hook_reserve",type:"pubkey"},{name:"rewards_per_second",type:"u64"},{name:"end_time",type:"i64"},{name:"last_update",type:"i64"},{name:"delta_bin_a",type:"i32"},{name:"delta_bin_b",type:"i32"},{name:"total_unclaimed_rewards",type:"u64"}]}},{name:"HookBinArray",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"hook",type:"pubkey"},{name:"index",type:"u32"},{name:"_space",type:{array:["u8",28]}},{name:"accrued_rewards_per_share",type:{array:["u128",256]}}]}},{name:"HookInitializationEvent",type:{kind:"struct",fields:[{name:"authority",type:"pubkey"},{name:"pair",type:"pubkey"},{name:"hook",type:"pubkey"}]}},{name:"HookPosition",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"user_accrued_rewards_per_share",type:{array:["u128",64]}},{name:"pending_rewards",type:"u64"},{name:"bump",type:"u8"},{name:"_space",type:{array:["u8",7]}}]}},{name:"Pair",type:{kind:"struct",fields:[{name:"bump",type:{array:["u8",1]}},{name:"liquidity_book_config",type:"pubkey"},{name:"bin_step",type:"u8"},{name:"bin_step_seed",type:{array:["u8",1]}},{name:"token_mint_x",type:"pubkey"},{name:"token_mint_y",type:"pubkey"},{name:"static_fee_parameters",type:{defined:{name:"StaticFeeParameters"}}},{name:"active_id",type:"u32"},{name:"dynamic_fee_parameters",type:{defined:{name:"DynamicFeeParameters"}}},{name:"protocol_fees_x",type:"u64"},{name:"protocol_fees_y",type:"u64"},{name:"hook",type:{option:"pubkey"}}]}},{name:"Position",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"position_mint",type:"pubkey"},{name:"liquidity_shares",type:{array:["u128",64]}},{name:"lower_bin_id",type:"u32"},{name:"upper_bin_id",type:"u32"},{name:"_space",type:{array:["u8",8]}}]}},{name:"RewardParametersSetEvent",type:{kind:"struct",fields:[{name:"hook",type:"pubkey"},{name:"rewards_per_second",type:"u64"},{name:"start_time",type:"i64"},{name:"duration",type:"i64"}]}},{name:"StaticFeeParameters",type:{kind:"struct",fields:[{name:"base_factor",type:"u16"},{name:"filter_period",type:"u16"},{name:"decay_period",type:"u16"},{name:"reduction_factor",type:"u16"},{name:"variable_fee_control",type:"u32"},{name:"max_volatility_accumulator",type:"u32"},{name:"protocol_share",type:"u16"},{name:"_space",type:{array:["u8",2]}}]}}]},C={address:"2Qy2sxJpWYsN35D54LgHE6M5ATZMnnim7nPwSGyffFAa",metadata:{name:"liquidity_book",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},instructions:[{name:"accept_config_ownership",discriminator:[6,212,14,48,229,38,62,241],accounts:[{name:"liquidity_book_config",writable:!0},{name:"pending_preset_authority",signer:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"close_position",discriminator:[123,134,81,0,49,68,98,98],accounts:[{name:"pair",writable:!0,relations:["position","bin_array_lower","bin_array_upper"]},{name:"position",writable:!0},{name:"position_mint",writable:!0},{name:"position_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"position_token_program"},{kind:"account",path:"position_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"bin_array_lower",writable:!0},{name:"bin_array_upper",writable:!0},{name:"token_mint_x",relations:["pair"]},{name:"token_mint_y",relations:["pair"]},{name:"token_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"token_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user",signer:!0},{name:"token_program_x"},{name:"token_program_y"},{name:"position_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"memo_program",address:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"},{name:"hook",writable:!0,optional:!0},{name:"hooks_program",optional:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"create_position",discriminator:[48,215,197,153,96,203,180,133],accounts:[{name:"pair"},{name:"position",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110]},{kind:"account",path:"position_mint"}]}},{name:"position_mint",writable:!0,signer:!0},{name:"position_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program"},{kind:"account",path:"position_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"relative_bin_id_left",type:"i32"},{name:"relative_bin_in_right",type:"i32"}]},{name:"decrease_position",discriminator:[57,125,21,59,200,137,179,108],accounts:[{name:"pair",writable:!0,relations:["position","bin_array_lower","bin_array_upper"]},{name:"position",writable:!0},{name:"position_mint",writable:!0},{name:"position_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"position_token_program"},{kind:"account",path:"position_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"bin_array_lower",writable:!0},{name:"bin_array_upper",writable:!0},{name:"token_mint_x",relations:["pair"]},{name:"token_mint_y",relations:["pair"]},{name:"token_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"token_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user",signer:!0},{name:"token_program_x"},{name:"token_program_y"},{name:"position_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"memo_program",address:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"},{name:"hook",writable:!0,optional:!0},{name:"hooks_program",optional:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"shares",type:{vec:"u128"}}]},{name:"increase_position",discriminator:[253,234,128,104,192,188,45,91],accounts:[{name:"pair",writable:!0,relations:["position","bin_array_lower","bin_array_upper"]},{name:"position",writable:!0},{name:"position_mint",writable:!0},{name:"position_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"position_token_program"},{kind:"account",path:"position_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"bin_array_lower",writable:!0},{name:"bin_array_upper",writable:!0},{name:"token_mint_x",relations:["pair"]},{name:"token_mint_y",relations:["pair"]},{name:"token_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"token_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user",signer:!0},{name:"token_program_x"},{name:"token_program_y"},{name:"position_token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"memo_program",address:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"},{name:"hook",writable:!0,optional:!0},{name:"hooks_program",optional:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"amount_x",type:"u64"},{name:"amount_y",type:"u64"},{name:"liquidity_distribution",type:{vec:{defined:{name:"BinLiquidityDistribution"}}}}]},{name:"initialize_bin_array",discriminator:[35,86,19,185,78,212,75,211],accounts:[{name:"pair"},{name:"bin_array",writable:!0,pda:{seeds:[{kind:"const",value:[98,105,110,95,97,114,114,97,121]},{kind:"account",path:"pair"},{kind:"arg",path:"index"}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"id",type:"u32"}]},{name:"initialize_bin_step_config",discriminator:[2,168,136,251,163,9,132,255],accounts:[{name:"liquidity_book_config"},{name:"bin_step_config",writable:!0,pda:{seeds:[{kind:"const",value:[98,105,110,95,115,116,101,112,95,99,111,110,102,105,103]},{kind:"account",path:"liquidity_book_config"},{kind:"arg",path:"bin_step"}]}},{name:"preset_authority",writable:!0,signer:!0,relations:["liquidity_book_config"]},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"bin_step",type:"u8"},{name:"availability",type:{defined:{name:"ConfigAvailability"}}},{name:"fee_parameters",type:{defined:{name:"StaticFeeParameters"}}}]},{name:"initialize_config",discriminator:[208,127,21,1,194,190,196,70],accounts:[{name:"config",writable:!0,signer:!0},{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"fee_authority",type:"pubkey"}]},{name:"initialize_pair",discriminator:[177,114,226,34,186,150,5,245],accounts:[{name:"liquidity_book_config"},{name:"token_mint_x"},{name:"token_mint_y"},{name:"bin_step_config",pda:{seeds:[{kind:"const",value:[98,105,110,95,115,116,101,112,95,99,111,110,102,105,103]},{kind:"account",path:"liquidity_book_config"},{kind:"account",path:"bin_step_config.bin_step",account:"BinStepConfig"}]}},{name:"quote_asset_badge",pda:{seeds:[{kind:"const",value:[113,117,111,116,101,95,97,115,115,101,116,95,98,97,100,103,101]},{kind:"account",path:"liquidity_book_config"},{kind:"account",path:"token_mint_y"}]}},{name:"pair",writable:!0,pda:{seeds:[{kind:"const",value:[112,97,105,114]},{kind:"account",path:"liquidity_book_config"},{kind:"account",path:"token_mint_x"},{kind:"account",path:"token_mint_y"},{kind:"account",path:"bin_step_config.bin_step",account:"BinStepConfig"}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"active_id",type:"u32"}]},{name:"initialize_quote_asset_badge",discriminator:[115,174,34,42,176,5,229,207],accounts:[{name:"liquidity_book_config"},{name:"quote_asset_badge",writable:!0,pda:{seeds:[{kind:"const",value:[113,117,111,116,101,95,97,115,115,101,116,95,98,97,100,103,101]},{kind:"account",path:"liquidity_book_config"},{kind:"account",path:"token_mint"}]}},{name:"token_mint"},{name:"preset_authority",writable:!0,signer:!0,relations:["liquidity_book_config"]},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"set_hook",discriminator:[175,16,187,252,19,54,111,221],accounts:[{name:"liquidity_book_config",relations:["pair"]},{name:"pair",writable:!0},{name:"preset_authority",signer:!0,relations:["liquidity_book_config"]},{name:"hook",writable:!0,optional:!0},{name:"hooks_program",optional:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"swap",discriminator:[248,198,158,145,225,117,135,200],accounts:[{name:"pair",writable:!0,relations:["bin_array_lower","bin_array_upper"]},{name:"token_mint_x",relations:["pair"]},{name:"token_mint_y",relations:["pair"]},{name:"bin_array_lower",writable:!0},{name:"bin_array_upper",writable:!0},{name:"token_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"token_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_vault_x",writable:!0},{name:"user_vault_y",writable:!0},{name:"user",signer:!0},{name:"token_program_x"},{name:"token_program_y"},{name:"memo_program",address:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"},{name:"hook",writable:!0,optional:!0},{name:"hooks_program",optional:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"amount",type:"u64"},{name:"other_amount_threshold",type:"u64"},{name:"swap_for_y",type:"bool"},{name:"swap_type",type:{defined:{name:"SwapType"}}}]},{name:"transfer_config_ownership",discriminator:[53,124,67,226,108,130,19,12],accounts:[{name:"liquidity_book_config",writable:!0},{name:"preset_authority",signer:!0,relations:["liquidity_book_config"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"new_authority",type:{option:"pubkey"}}]},{name:"update_bin_step_config",discriminator:[205,204,206,220,251,239,19,238],accounts:[{name:"liquidity_book_config",relations:["bin_step_config"]},{name:"bin_step_config",writable:!0},{name:"preset_authority",signer:!0,relations:["liquidity_book_config"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"status",type:{defined:{name:"ConfigStatus"}}},{name:"availability",type:{defined:{name:"ConfigAvailability"}}},{name:"fee_parameters",type:{defined:{name:"StaticFeeParameters"}}}]},{name:"update_pair_static_fee_parameters",discriminator:[20,223,186,73,199,65,45,80],accounts:[{name:"liquidity_book_config",relations:["pair"]},{name:"pair",writable:!0},{name:"preset_authority",signer:!0,relations:["liquidity_book_config"]},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"fee_parameters",type:{defined:{name:"StaticFeeParameters"}}}]},{name:"update_quote_asset_badge",discriminator:[42,12,208,17,29,174,196,103],accounts:[{name:"liquidity_book_config"},{name:"quote_asset_badge",writable:!0,pda:{seeds:[{kind:"const",value:[113,117,111,116,101,95,97,115,115,101,116,95,98,97,100,103,101]},{kind:"account",path:"liquidity_book_config"},{kind:"account",path:"token_mint"}]}},{name:"token_mint"},{name:"preset_authority",signer:!0,relations:["liquidity_book_config"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"status",type:{defined:{name:"QuoteAssetBadgeStatus"}}}]},{name:"withdraw_protocol_fees",discriminator:[11,68,165,98,18,208,134,73],accounts:[{name:"liquidity_book_config",relations:["pair"]},{name:"pair",writable:!0},{name:"token_mint_x",relations:["pair"]},{name:"token_mint_y",relations:["pair"]},{name:"token_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"token_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"pair"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"protocol_vault_x",writable:!0,pda:{seeds:[{kind:"account",path:"preset_authority"},{kind:"account",path:"token_program_x"},{kind:"account",path:"pair.token_mint_x",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"protocol_vault_y",writable:!0,pda:{seeds:[{kind:"account",path:"preset_authority"},{kind:"account",path:"token_program_y"},{kind:"account",path:"pair.token_mint_y",account:"Pair"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"token_program_x"},{name:"token_program_y"},{name:"preset_authority",signer:!0,relations:["liquidity_book_config"]},{name:"memo_program",address:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]}],accounts:[{name:"BinArray",discriminator:[92,142,92,220,5,148,70,181]},{name:"BinStepConfig",discriminator:[44,12,82,45,127,124,191,199]},{name:"LiquidityBookConfig",discriminator:[173,36,130,129,45,178,44,86]},{name:"Pair",discriminator:[85,72,49,176,182,228,141,82]},{name:"Position",discriminator:[170,188,143,228,122,64,247,208]},{name:"QuoteAssetBadge",discriminator:[183,124,99,219,110,119,157,221]}],events:[{name:"BinArrayInitializationEvent",discriminator:[237,158,3,184,253,238,102,71]},{name:"BinStepConfigInitializationEvent",discriminator:[2,138,209,132,61,232,124,57]},{name:"BinStepConfigUpdateEvent",discriminator:[241,69,172,53,135,27,238,248]},{name:"BinSwapEvent",discriminator:[55,42,192,194,230,243,9,72]},{name:"CompositionFeesEvent",discriminator:[83,234,249,47,88,125,2,86]},{name:"LiquidityBookConfigInitializationEvent",discriminator:[90,99,66,116,24,72,145,146]},{name:"LiquidityBookConfigTransferOwnershipEvent",discriminator:[181,131,103,224,188,170,226,65]},{name:"LiquidityBookConfigTransferOwnershipInitEvent",discriminator:[69,165,109,99,223,38,229,100]},{name:"PairInitializationEvent",discriminator:[132,133,209,222,229,215,206,245]},{name:"PairStaticFeeParametersUpdateEvent",discriminator:[57,109,202,252,154,9,121,131]},{name:"PositionCreationEvent",discriminator:[97,21,205,201,62,41,111,164]},{name:"PositionDecreaseEvent",discriminator:[200,116,151,126,182,237,245,254]},{name:"PositionIncreaseEvent",discriminator:[247,40,58,113,28,175,60,174]},{name:"ProtocolFeesCollectionEvent",discriminator:[196,36,190,66,172,52,142,15]},{name:"QuoteAssetBadgeInitializationEvent",discriminator:[202,110,93,186,165,96,200,27]},{name:"QuoteAssetBadgeUpdateEvent",discriminator:[102,149,171,236,123,73,205,194]}],errors:[{code:6e3,name:"BinNotFound",msg:"Bin not found within bin array"},{code:6001,name:"InvalidAuthority",msg:"Invalid authority"},{code:6002,name:"InvalidAmounts",msg:"Invalid amounts length"},{code:6003,name:"BinArrayIndexMismatch",msg:"Bin array index mismatch"},{code:6004,name:"InvalidAmountOut",msg:"Invalid amount out"},{code:6005,name:"InvalidAmountIn",msg:"Invalid amount in"},{code:6006,name:"InvalidDistribution",msg:"Invalid distribution"},{code:6007,name:"LiquidityOverflow",msg:"Liquidity overflow"},{code:6008,name:"LiquidityUnderflow",msg:"Liquidity underflow"},{code:6009,name:"ZeroShares",msg:"Zero shares"},{code:6010,name:"NotPositionOwner",msg:"Not the owner of the position"},{code:6011,name:"InvalidStaticFeeParameters",msg:"Invalid static fee parameters"},{code:6012,name:"InvalidConfig",msg:"Invalid LB config provided"},{code:6013,name:"PairPositionMismatch",msg:"Pair and position mismatch"},{code:6014,name:"PairLowerBinArrayMismatch",msg:"Pair and lower bin array mismatch"},{code:6015,name:"PairUpperBinArrayMismatch",msg:"Pair and upper bin array mismatch"},{code:6016,name:"InactiveBinStepConfig",msg:"Inactive bin step config"},{code:6017,name:"ClosedBinStepConfig",msg:"Closed bin step config"},{code:6018,name:"InvalidQuoteAssetBadge",msg:"Invalid quote asset badge provided"},{code:6019,name:"TransferFeeCalculationError",msg:"Transfer fee calculation error"},{code:6020,name:"GetAmountOverflow",msg:"Get amount overflow error"},{code:6021,name:"AmountOverflow",msg:"Amount overflow error"},{code:6022,name:"AmountUnderflow",msg:"Amount underflow error"},{code:6023,name:"ActiveIdOverflow",msg:"Active id overflow error"},{code:6024,name:"ActiveIdUnderflow",msg:"Active id overflow error"},{code:6025,name:"InvalidBinRange",msg:"Invalid bin range"},{code:6026,name:"PairTokenMismatch",msg:"Pair Token Mismatch"},{code:6027,name:"InvalidHook",msg:"Invalid Hook Provided"},{code:6028,name:"UserVaultXMismatch",msg:"Token Account X Mismatch"},{code:6029,name:"UserVaultYMismatch",msg:"Token Account Y Mismatch"}],types:[{name:"Bin",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"total_supply",type:"u128"},{name:"reserve_x",type:"u64"},{name:"reserve_y",type:"u64"}]}},{name:"BinArray",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"bins",type:{array:[{defined:{name:"Bin"}},256]}},{name:"index",type:"u32"},{name:"_space",type:{array:["u8",12]}}]}},{name:"BinArrayInitializationEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"index",type:"u32"}]}},{name:"BinLiquidityDistribution",type:{kind:"struct",fields:[{name:"relative_bin_id",type:"i32"},{name:"distribution_x",type:"u16"},{name:"distribution_y",type:"u16"}]}},{name:"BinStepConfig",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"liquidity_book_config",type:"pubkey"},{name:"bin_step",type:"u8"},{name:"status",type:{defined:{name:"ConfigStatus"}}},{name:"availability",type:{defined:{name:"ConfigAvailability"}}},{name:"fee_parameters",type:{defined:{name:"StaticFeeParameters"}}}]}},{name:"BinStepConfigInitializationEvent",type:{kind:"struct",fields:[{name:"liquidity_book_config",type:"pubkey"},{name:"bin_step_config",type:"pubkey"},{name:"bin_step",type:"u8"},{name:"fee_parameters",type:{defined:{name:"StaticFeeParameters"}}}]}},{name:"BinStepConfigUpdateEvent",type:{kind:"struct",fields:[{name:"bin_step_config",type:"pubkey"},{name:"status",type:{defined:{name:"ConfigStatus"}}},{name:"availability",type:{defined:{name:"ConfigAvailability"}}},{name:"fee_parameters",type:{defined:{name:"StaticFeeParameters"}}}]}},{name:"BinSwapEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"swap_for_y",type:"bool"},{name:"protocol_fee",type:"u64"},{name:"bin_id",type:"u32"},{name:"amount_in",type:"u64"},{name:"amount_out",type:"u64"},{name:"volatility_accumulator",type:"u32"},{name:"fee",type:"u64"}]}},{name:"CompositionFeesEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"active_id",type:"u32"},{name:"composition_fees_x",type:"u64"},{name:"composition_fees_y",type:"u64"},{name:"protocol_fees_x",type:"u64"},{name:"protocol_fees_y",type:"u64"}]}},{name:"ConfigAvailability",type:{kind:"enum",variants:[{name:"Closed"},{name:"Open"}]}},{name:"ConfigStatus",type:{kind:"enum",variants:[{name:"Inactive"},{name:"Active"}]}},{name:"DynamicFeeParameters",type:{kind:"struct",fields:[{name:"time_last_updated",type:"u64"},{name:"volatility_accumulator",type:"u32"},{name:"volatility_reference",type:"u32"},{name:"id_reference",type:"u32"},{name:"_space",type:{array:["u8",4]}}]}},{name:"LiquidityBookConfig",type:{kind:"struct",fields:[{name:"preset_authority",type:"pubkey"},{name:"pending_preset_authority",type:{option:"pubkey"}}]}},{name:"LiquidityBookConfigInitializationEvent",type:{kind:"struct",fields:[{name:"config",type:"pubkey"},{name:"preset_authority",type:"pubkey"}]}},{name:"LiquidityBookConfigTransferOwnershipEvent",type:{kind:"struct",fields:[{name:"new_authority",type:"pubkey"}]}},{name:"LiquidityBookConfigTransferOwnershipInitEvent",type:{kind:"struct",fields:[{name:"new_pending_authority",type:{option:"pubkey"}}]}},{name:"Pair",type:{kind:"struct",fields:[{name:"bump",type:{array:["u8",1]}},{name:"liquidity_book_config",type:"pubkey"},{name:"bin_step",type:"u8"},{name:"bin_step_seed",type:{array:["u8",1]}},{name:"token_mint_x",type:"pubkey"},{name:"token_mint_y",type:"pubkey"},{name:"static_fee_parameters",type:{defined:{name:"StaticFeeParameters"}}},{name:"active_id",type:"u32"},{name:"dynamic_fee_parameters",type:{defined:{name:"DynamicFeeParameters"}}},{name:"protocol_fees_x",type:"u64"},{name:"protocol_fees_y",type:"u64"},{name:"hook",type:{option:"pubkey"}}]}},{name:"PairInitializationEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"token_mint_x",type:"pubkey"},{name:"token_mint_y",type:"pubkey"},{name:"bin_step_config",type:"pubkey"},{name:"active_id",type:"u32"}]}},{name:"PairStaticFeeParametersUpdateEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"fee_parameters",type:{defined:{name:"StaticFeeParameters"}}}]}},{name:"Position",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"position_mint",type:"pubkey"},{name:"liquidity_shares",type:{array:["u128",64]}},{name:"lower_bin_id",type:"u32"},{name:"upper_bin_id",type:"u32"},{name:"_space",type:{array:["u8",8]}}]}},{name:"PositionCreationEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"position",type:"pubkey"},{name:"position_mint",type:"pubkey"},{name:"lower_bin_id",type:"u32"},{name:"upper_bin_id",type:"u32"}]}},{name:"PositionDecreaseEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"position",type:"pubkey"},{name:"bin_ids",type:{vec:"u32"}},{name:"amounts_x",type:{vec:"u64"}},{name:"amounts_y",type:{vec:"u64"}},{name:"liquidity_burned",type:{vec:"u128"}}]}},{name:"PositionIncreaseEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"position",type:"pubkey"},{name:"bin_ids",type:{vec:"u32"}},{name:"amounts_x",type:{vec:"u64"}},{name:"amounts_y",type:{vec:"u64"}},{name:"liquidity_minted",type:{vec:"u128"}}]}},{name:"ProtocolFeesCollectionEvent",type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"protocol_fees_x",type:"u64"},{name:"protocol_fees_y",type:"u64"}]}},{name:"QuoteAssetBadge",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"status",type:{defined:{name:"QuoteAssetBadgeStatus"}}}]}},{name:"QuoteAssetBadgeInitializationEvent",type:{kind:"struct",fields:[{name:"liquidity_book_config",type:"pubkey"},{name:"quote_asset_badge",type:"pubkey"},{name:"token_mint",type:"pubkey"}]}},{name:"QuoteAssetBadgeStatus",type:{kind:"enum",variants:[{name:"Disabled"},{name:"Enabled"}]}},{name:"QuoteAssetBadgeUpdateEvent",type:{kind:"struct",fields:[{name:"quote_asset_badge",type:"pubkey"},{name:"status",type:{defined:{name:"QuoteAssetBadgeStatus"}}}]}},{name:"StaticFeeParameters",type:{kind:"struct",fields:[{name:"base_factor",type:"u16"},{name:"filter_period",type:"u16"},{name:"decay_period",type:"u16"},{name:"reduction_factor",type:"u16"},{name:"variable_fee_control",type:"u32"},{name:"max_volatility_accumulator",type:"u32"},{name:"protocol_share",type:"u16"},{name:"_space",type:{array:["u8",2]}}]}},{name:"SwapType",type:{kind:"enum",variants:[{name:"ExactInput"},{name:"ExactOutput"}]}}]},F={address:"BXpvgXGKDKax82p9JK2E8jRoKLify6eq3mMaW1wHVhuK",metadata:{name:"rewarder_hook",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},instructions:[{name:"before_burn",discriminator:[7,177,19,160,28,229,57,73],accounts:[{name:"pair_account"},{name:"hook",writable:!0,relations:["active_bin_hook_bin_array_lower","active_bin_hook_bin_array_upper","position_hook_bin_array_lower","position_hook_bin_array_upper"]},{name:"position"},{name:"active_bin_array_lower"},{name:"active_bin_array_upper"},{name:"pair",signer:!0,relations:["hook"]},{name:"active_bin_hook_bin_array_lower",writable:!0},{name:"active_bin_hook_bin_array_upper",writable:!0},{name:"hook_position",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110]},{kind:"account",path:"hook"},{kind:"account",path:"position"}]}},{name:"position_hook_bin_array_lower",writable:!0},{name:"position_hook_bin_array_upper",writable:!0}],args:[]},{name:"before_mint",discriminator:[67,27,57,7,28,168,109,153],accounts:[{name:"pair_account"},{name:"hook",writable:!0,relations:["active_bin_hook_bin_array_lower","active_bin_hook_bin_array_upper","position_hook_bin_array_lower","position_hook_bin_array_upper"]},{name:"position"},{name:"active_bin_array_lower"},{name:"active_bin_array_upper"},{name:"pair",signer:!0,relations:["hook"]},{name:"active_bin_hook_bin_array_lower",writable:!0},{name:"active_bin_hook_bin_array_upper",writable:!0},{name:"hook_position",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110]},{kind:"account",path:"hook"},{kind:"account",path:"position"}]}},{name:"position_hook_bin_array_lower",writable:!0},{name:"position_hook_bin_array_upper",writable:!0}],args:[]},{name:"before_swap",discriminator:[227,59,240,68,164,9,29,254],accounts:[{name:"pair_account"},{name:"hook",writable:!0,relations:["active_bin_hook_bin_array_lower","active_bin_hook_bin_array_upper"]},{name:"active_bin_array_lower"},{name:"active_bin_array_upper"},{name:"pair",signer:!0,relations:["hook"]},{name:"active_bin_hook_bin_array_lower",writable:!0},{name:"active_bin_hook_bin_array_upper",writable:!0}],args:[]},{name:"claim",discriminator:[62,198,214,193,213,159,108,210],accounts:[{name:"hook",writable:!0,relations:["active_bin_hook_bin_array_lower","active_bin_hook_bin_array_upper","position_hook_bin_array_lower","position_hook_bin_array_upper"]},{name:"pair",relations:["hook","position","active_bin_array_lower","active_bin_array_upper"]},{name:"position"},{name:"position_mint",relations:["position"]},{name:"position_token_account",pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"position_token_program"},{kind:"account",path:"position_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"active_bin_array_lower",writable:!0},{name:"active_bin_array_upper",writable:!0},{name:"active_bin_hook_bin_array_lower",writable:!0},{name:"active_bin_hook_bin_array_upper",writable:!0},{name:"hook_position",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110]},{kind:"account",path:"hook"},{kind:"account",path:"position"}]}},{name:"position_hook_bin_array_lower",writable:!0},{name:"position_hook_bin_array_upper",writable:!0},{name:"reward_token_mint"},{name:"hook_reserve",writable:!0,relations:["hook"]},{name:"user_reserve",writable:!0},{name:"user",signer:!0},{name:"reward_token_program"},{name:"position_token_program"},{name:"memo_program",address:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"initialize_bin_array",discriminator:[35,86,19,185,78,212,75,211],accounts:[{name:"hook"},{name:"bin_array",writable:!0,pda:{seeds:[{kind:"const",value:[98,105,110,95,97,114,114,97,121]},{kind:"account",path:"hook"},{kind:"arg",path:"index"}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"index",type:"u32"}]},{name:"initialize_hook",discriminator:[37,101,119,255,156,39,252,232],accounts:[{name:"hook",writable:!0,pda:{seeds:[{kind:"const",value:[104,111,111,107]},{kind:"account",path:"hook_authority"},{kind:"arg",path:"pair"}]}},{name:"reward_token_mint"},{name:"hook_reserve",writable:!0,pda:{seeds:[{kind:"account",path:"hook"},{kind:"account",path:"reward_token_mint_token_program"},{kind:"account",path:"reward_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"hook_authority",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"reward_token_mint_token_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"lb_pair",type:"pubkey"}]},{name:"initialize_position",discriminator:[219,192,234,71,190,191,102,80],accounts:[{name:"hook"},{name:"lb_position"},{name:"position",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,115,105,116,105,111,110]},{kind:"account",path:"hook"},{kind:"account",path:"lb_position"}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"on_hook_set",discriminator:[23,126,214,186,197,123,0,235],accounts:[{name:"pair_account"},{name:"hook"},{name:"pair",signer:!0,relations:["hook"]}],args:[]},{name:"set_reward_range",discriminator:[124,43,236,120,6,88,112,213],accounts:[{name:"hook",writable:!0,relations:["active_bin_hook_bin_array_lower","active_bin_hook_bin_array_upper"]},{name:"pair",relations:["hook","active_bin_array_lower","active_bin_array_upper"]},{name:"active_bin_array_lower",writable:!0},{name:"active_bin_array_upper",writable:!0},{name:"active_bin_hook_bin_array_lower",writable:!0},{name:"active_bin_hook_bin_array_upper",writable:!0},{name:"hook_reserve",relations:["hook"]},{name:"authority",signer:!0,relations:["hook"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"delta_bin_a",type:"i32"},{name:"delta_bin_b",type:"i32"}]},{name:"set_rewards_parameters",discriminator:[86,145,230,205,136,137,140,193],accounts:[{name:"hook",writable:!0,relations:["active_bin_hook_bin_array_lower","active_bin_hook_bin_array_upper"]},{name:"pair",relations:["hook","active_bin_array_lower","active_bin_array_upper"]},{name:"active_bin_array_lower",writable:!0},{name:"active_bin_array_upper",writable:!0},{name:"active_bin_hook_bin_array_lower",writable:!0},{name:"active_bin_hook_bin_array_upper",writable:!0},{name:"hook_reserve",relations:["hook"]},{name:"authority",signer:!0,relations:["hook"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"rewards_per_second",type:"u64"},{name:"start_time",type:"i64"},{name:"duration",type:"i64"}]},{name:"set_rewards_per_second",discriminator:[77,81,53,27,248,29,133,203],accounts:[{name:"hook",writable:!0,relations:["active_bin_hook_bin_array_lower","active_bin_hook_bin_array_upper"]},{name:"pair",relations:["hook","active_bin_array_lower","active_bin_array_upper"]},{name:"active_bin_array_lower",writable:!0},{name:"active_bin_array_upper",writable:!0},{name:"active_bin_hook_bin_array_lower",writable:!0},{name:"active_bin_hook_bin_array_upper",writable:!0},{name:"hook_reserve",relations:["hook"]},{name:"authority",signer:!0,relations:["hook"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"rewards_per_second",type:"u64"},{name:"duration",type:"i64"}]},{name:"sweep",discriminator:[40,23,234,175,14,61,154,177],accounts:[{name:"hook",writable:!0},{name:"reward_token_mint"},{name:"hook_reserve",writable:!0,relations:["hook"]},{name:"authority_reserve",writable:!0},{name:"authority",signer:!0,relations:["hook"]},{name:"reward_token_program"},{name:"memo_program",address:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"}],args:[]}],accounts:[{name:"BinArray",discriminator:[92,142,92,220,5,148,70,181]},{name:"Hook",discriminator:[125,61,76,173,200,161,92,217]},{name:"HookBinArray",discriminator:[103,134,57,58,74,234,9,157]},{name:"HookPosition",discriminator:[125,149,132,62,52,71,211,143]},{name:"Pair",discriminator:[85,72,49,176,182,228,141,82]},{name:"Position",discriminator:[170,188,143,228,122,64,247,208]}],events:[{name:"ClaimEvent",discriminator:[93,15,70,170,48,140,212,219]},{name:"DeltaBinSetEvent",discriminator:[0,208,34,219,151,91,139,244]},{name:"HookInitializationEvent",discriminator:[229,217,175,38,112,240,117,95]},{name:"RewardParametersSetEvent",discriminator:[191,11,46,163,150,8,126,245]}],errors:[{code:6e3,name:"CheckedAddSignedOverflow",msg:"Checked add signed overflow"},{code:6001,name:"CheckedAddOverflow",msg:"Checked add overflow"},{code:6002,name:"HookBinArrayIndexMismatch",msg:"Hook bin array index mismatch"},{code:6003,name:"BinNotFound",msg:"Bin not found"},{code:6004,name:"ShlDivError",msg:"Shift left division error"},{code:6005,name:"MulDivError",msg:"Mul div error"},{code:6006,name:"MulShrError",msg:"Mul shr error"},{code:6007,name:"CheckedMulOverflow",msg:"Checked Mul overflow"},{code:6008,name:"InvalidStartTime",msg:"Invalid start time"},{code:6009,name:"CheckedSubUnderflow",msg:"Checked sub underflow"},{code:6010,name:"ZeroRewards",msg:"Rewarder won't distribute any rewards"},{code:6011,name:"InvalidDeltaBins",msg:"Invalid delta bins"},{code:6012,name:"InvalidLBPosition",msg:"Invalid LB position"}],types:[{name:"Bin",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"total_supply",type:"u128"},{name:"reserve_x",type:"u64"},{name:"reserve_y",type:"u64"}]}},{name:"BinArray",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"bins",type:{array:[{defined:{name:"Bin"}},256]}},{name:"index",type:"u32"},{name:"_space",type:{array:["u8",12]}}]}},{name:"ClaimEvent",type:{kind:"struct",fields:[{name:"hook",type:"pubkey"},{name:"user",type:"pubkey"},{name:"rewards",type:"u64"}]}},{name:"DeltaBinSetEvent",type:{kind:"struct",fields:[{name:"hook",type:"pubkey"},{name:"delta_bin_a",type:"i32"},{name:"delta_bin_b",type:"i32"}]}},{name:"DynamicFeeParameters",type:{kind:"struct",fields:[{name:"time_last_updated",type:"u64"},{name:"volatility_accumulator",type:"u32"},{name:"volatility_reference",type:"u32"},{name:"id_reference",type:"u32"},{name:"_space",type:{array:["u8",4]}}]}},{name:"Hook",type:{kind:"struct",fields:[{name:"bump",type:{array:["u8",1]}},{name:"authority",type:"pubkey"},{name:"pair",type:"pubkey"},{name:"reward_token_mint",type:"pubkey"},{name:"hook_reserve",type:"pubkey"},{name:"rewards_per_second",type:"u64"},{name:"end_time",type:"i64"},{name:"last_update",type:"i64"},{name:"delta_bin_a",type:"i32"},{name:"delta_bin_b",type:"i32"},{name:"total_unclaimed_rewards",type:"u64"}]}},{name:"HookBinArray",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"hook",type:"pubkey"},{name:"index",type:"u32"},{name:"_space",type:{array:["u8",28]}},{name:"accrued_rewards_per_share",type:{array:["u128",256]}}]}},{name:"HookInitializationEvent",type:{kind:"struct",fields:[{name:"authority",type:"pubkey"},{name:"pair",type:"pubkey"},{name:"hook",type:"pubkey"}]}},{name:"HookPosition",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"user_accrued_rewards_per_share",type:{array:["u128",64]}},{name:"pending_rewards",type:"u64"},{name:"bump",type:"u8"},{name:"_space",type:{array:["u8",7]}}]}},{name:"Pair",type:{kind:"struct",fields:[{name:"bump",type:{array:["u8",1]}},{name:"liquidity_book_config",type:"pubkey"},{name:"bin_step",type:"u8"},{name:"bin_step_seed",type:{array:["u8",1]}},{name:"token_mint_x",type:"pubkey"},{name:"token_mint_y",type:"pubkey"},{name:"static_fee_parameters",type:{defined:{name:"StaticFeeParameters"}}},{name:"active_id",type:"u32"},{name:"dynamic_fee_parameters",type:{defined:{name:"DynamicFeeParameters"}}},{name:"protocol_fees_x",type:"u64"},{name:"protocol_fees_y",type:"u64"},{name:"hook",type:{option:"pubkey"}}]}},{name:"Position",serialization:"bytemuck",repr:{kind:"c"},type:{kind:"struct",fields:[{name:"pair",type:"pubkey"},{name:"position_mint",type:"pubkey"},{name:"liquidity_shares",type:{array:["u128",64]}},{name:"lower_bin_id",type:"u32"},{name:"upper_bin_id",type:"u32"},{name:"_space",type:{array:["u8",8]}}]}},{name:"RewardParametersSetEvent",type:{kind:"struct",fields:[{name:"hook",type:"pubkey"},{name:"rewards_per_second",type:"u64"},{name:"start_time",type:"i64"},{name:"duration",type:"i64"}]}},{name:"StaticFeeParameters",type:{kind:"struct",fields:[{name:"base_factor",type:"u16"},{name:"filter_period",type:"u16"},{name:"decay_period",type:"u16"},{name:"reduction_factor",type:"u16"},{name:"variable_fee_control",type:"u32"},{name:"max_volatility_accumulator",type:"u32"},{name:"protocol_share",type:"u16"},{name:"_space",type:{array:["u8",2]}}]}}]},T=function(e){var n,t;this.connection=new i.Connection((null==(n=e.options)?void 0:n.rpcUrl)||S[e.mode].rpc,(null==(t=e.options)?void 0:t.commitmentOrConfig)||"confirmed");var a=new o.AnchorProvider(this.connection,{},o.AnchorProvider.defaultOptions());this.mode=e.mode,e.mode===exports.MODE.DEVNET?(this.lbProgram=new o.Program(C,a),this.hooksProgram=new o.Program(F,a)):(this.lbProgram=new o.Program(E,a),this.hooksProgram=new o.Program(M,a))},O=function(){var e=l(v().m((function e(n,t){var a,r,i;return v().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,t.getParsedAccountInfo(n);case 1:return r=null==(a=e.v.value)?void 0:a.owner.toBase58(),i=r===s.TOKEN_PROGRAM_ID.toBase58()?s.TOKEN_PROGRAM_ID:s.TOKEN_2022_PROGRAM_ID,e.a(2,i)}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),L=function(e,n,t,a){var r,i=(r=e<<64)<0?null:1+r/1e4,o=n-8388608,s=Math.pow(10,t-a);return Math.pow(i,o)*s},N=function(e,n,t,a){if(e<=0)throw new Error("Giá phải lớn hơn 0");if(n<=0||n>1e4)throw new Error("Bin step invalid");var r=Math.pow(10,a-t),i=1+n/1e4,o=Math.log(e*r)/Math.log(i);return Math.round(o+8388608)},D=function(e){function n(n){var t;return(t=e.call(this,n)||this).name="LBError",t}return h(n,e),n}(I(Error));D.BinNotFound=new D("Bin not found"),D.BinArrayIndexMismatch=new D("Bin array index mismatch");var X=function(){function e(e,n,t){var a=this;if(n.index!==e.index+1||t.index!==n.index+1)throw D.BinArrayIndexMismatch;this.bins={};var r=function(e){e.bins.forEach((function(n,t){a.bins[256*e.index+t]=n}))};r(e),r(n),r(t)}var n=e.prototype;return n.getBinMut=function(e){return this.bins[e]},n.getAllBins=function(){return Object.values(this.bins)},e}(),R=function(){function e(e,n){this.lbProgram=e,this.connection=n,this.volatilityAccumulator=0,this.volatilityReference=0,this.referenceId=0,this.timeLastUpdated=0}e.fromLbConfig=function(n,t){return new e(n,t)};var n=e.prototype;return n.getBinArray=function(e){var n=e.binArrayIndex,t=e.pair;return i.PublicKey.findProgramAddressSync([Buffer.from(o.utils.bytes.utf8.encode("bin_array")),t.toBuffer(),new o.BN(n).toArrayLike(Buffer,"le",4)],this.lbProgram.programId)[0]},n.calculateInOutAmount=function(){var e=l(v().m((function e(n){var t,a,r,i,s,u,c,m,p,d,_,l=this;return v().w((function(e){for(;;)switch(e.n){case 0:return t=n.amount,a=n.swapForY,r=n.pair,i=n.isExactInput,e.p=1,e.n=2,this.lbProgram.account.pair.fetch(r);case 2:if(s=e.v){e.n=3;break}throw new Error("Pair not found");case 3:return u=Math.floor(s.activeId/256),m=(c=[u-1,u,u+1]).map((function(e){return l.getBinArray({binArrayIndex:e,pair:r})})),e.n=4,Promise.all(m.map((function(e,n){return l.lbProgram.account.binArray.fetch(e).catch((function(e){return{index:c[n],bins:[]}}))})));case 4:if(!(d=new X((p=e.v)[0],p[1],p[2])).getAllBins().reduce((function(e,n){return e.add(n.totalSupply)}),new o.BN(0)).isZero()){e.n=5;break}return e.a(2,{amountIn:BigInt(0),amountOut:BigInt(0)});case 5:if(_=t,!i){e.n=7;break}return e.n=6,this.calculateAmountOut(_,d,s,a);case 6:return e.a(2,{amountIn:t,amountOut:e.v});case 7:return e.n=8,this.calculateAmountIn(_,d,s,a);case 8:return e.a(2,{amountIn:e.v,amountOut:_});case 9:e.n=11;break;case 10:throw e.p=10,new Error(e.v);case 11:return e.a(2)}}),e,this,[[1,10]])})));return function(n){return e.apply(this,arguments)}}(),n.calculateAmountIn=function(){var e=l(v().m((function e(n,t,a,r){var i,o,s,u,c,m,p;return v().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,i=BigInt(0),BigInt(0),o=n,s=a.activeId,u=0,e.n=1,this.updateReferences(a,s);case 1:if(!(o>BigInt(0))){e.n=4;break}if(u++,this.updateVolatilityAccumulator(a,s),c=t.getBinMut(s)){e.n=2;break}return e.a(3,4);case 2:if(m=this.getTotalFee(a),p=this.swapExactOutput({binStep:a.binStep,activeId:s,amountOutLeft:o,fee:m,protocolShare:a.staticFeeParameters.protocolShare,swapForY:r,reserveX:c.reserveX,reserveY:c.reserveY}),i+=p.amountInWithFees,o-=p.amountOut){e.n=3;break}return e.a(3,4);case 3:s=this.moveActiveId(s,r),e.n=1;break;case 4:if(!(u>=30)){e.n=5;break}throw"Swap crosses too many bins – quote aborted.";case 5:return e.a(2,i);case 6:throw e.p=6,e.v;case 7:return e.a(2)}}),e,this,[[0,6]])})));return function(n,t,a,r){return e.apply(this,arguments)}}(),n.calculateAmountOut=function(){var e=l(v().m((function e(n,t,a,r){var i,o,s,u,c,m,p;return v().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,i=BigInt(0),BigInt(0),o=n,s=a.activeId,u=0,e.n=1,this.updateReferences(a,s);case 1:if(!(o>BigInt(0))){e.n=4;break}if(u++,this.updateVolatilityAccumulator(a,s),c=t.getBinMut(s)){e.n=2;break}return e.a(3,4);case 2:if(m=this.getTotalFee(a),p=this.swapExactInput({binStep:a.binStep,activeId:s,amountInLeft:o,fee:m,protocolShare:a.staticFeeParameters.protocolShare,swapForY:r,reserveX:c.reserveX,reserveY:c.reserveY}),i+=p.amountOut,o-=p.amountInWithFees){e.n=3;break}return e.a(3,4);case 3:s=this.moveActiveId(s,r),e.n=1;break;case 4:if(!(u>=30)){e.n=5;break}throw"Swap crosses too many bins – quote aborted.";case 5:return e.a(2,i);case 6:throw e.p=6,e.v;case 7:return e.a(2)}}),e,this,[[0,6]])})));return function(n,t,a,r){return e.apply(this,arguments)}}(),n.swapExactOutput=function(e){var n=e.binStep,t=e.activeId,a=e.amountOutLeft,r=e.swapForY,i=e.reserveX,o=e.reserveY,s=e.fee,u=BigInt(e.protocolShare),c=r?o:i;if(c.isZero())return{amountInWithFees:BigInt(0),amountOut:BigInt(0),feeAmount:BigInt(0),protocolFeeAmount:BigInt(0)};var m=BigInt(c.toString()),p=a>m?m:a,d=L(n,t,9,9),_=BigInt(Math.round(Number(d)*Math.pow(2,64))),l=this.calcAmountInByPrice(p,_,64,r,"up"),y=this.getFeeForAmount(l,s);return{amountInWithFees:l+y,amountOut:p,feeAmount:y,protocolFeeAmount:this.getProtocolFee(y,u)}},n.swapExactInput=function(e){var n=e.binStep,t=e.activeId,a=e.amountInLeft,r=e.protocolShare,i=e.swapForY,o=e.reserveX,s=e.reserveY,u=e.fee,c=BigInt(r),m=i?s:o;if(m.isZero())return{amountInWithFees:BigInt(0),amountOut:BigInt(0),feeAmount:BigInt(0),protocolFeeAmount:BigInt(0)};var p=BigInt(m.toString()),d=L(n,t,9,9),_=BigInt(Math.round(Number(d)*Math.pow(2,64))),l=this.calcAmountInByPrice(p,_,64,i,"up"),y=this.getFeeForAmount(l,u);l+=y;var k=BigInt(0),b=BigInt(0),f=BigInt(0);return a>=l?(b=l-(f=y),k=p):(f=this.getFeeAmount(a,u),(k=this.calcAmountOutByPrice(b=a-f,_,64,i,"down"))>p&&(k=p)),{amountInWithFees:b+f,amountOut:k,feeAmount:f,protocolFeeAmount:r>BigInt(0)?this.getProtocolFee(f,c):BigInt(0)}},n.updateReferences=function(){var e=l(v().m((function e(n,t){var a,r,i;return v().w((function(e){for(;;)switch(e.n){case 0:return this.referenceId=n.dynamicFeeParameters.idReference,this.timeLastUpdated=n.dynamicFeeParameters.timeLastUpdated.toNumber(),this.volatilityReference=n.dynamicFeeParameters.volatilityReference,e.n=1,this.connection.getSlot();case 1:return a=e.v,e.n=2,this.connection.getBlockTime(a);case 2:if(!(r=e.v)){e.n=5;break}if(!((i=r-this.timeLastUpdated)>n.staticFeeParameters.filterPeriod)){e.n=4;break}if(this.referenceId=t,!(i>=n.staticFeeParameters.decayPeriod)){e.n=3;break}this.volatilityReference=0,e.n=4;break;case 3:return e.a(2,this.updateVolatilityReference(n));case 4:this.timeLastUpdated=r;case 5:return e.a(2,this.updateVolatilityAccumulator(n,t))}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),n.updateVolatilityReference=function(e){this.volatilityReference=e.dynamicFeeParameters.volatilityAccumulator*e.staticFeeParameters.reductionFactor/1e4},n.updateVolatilityAccumulator=function(e,n){var t=1e4*Math.abs(n-this.referenceId)+this.volatilityReference,a=e.staticFeeParameters.maxVolatilityAccumulator;this.volatilityAccumulator=t>a?a:t},n.getVariableFee=function(e){var n=BigInt(e.staticFeeParameters.variableFeeControl);if(n>BigInt(0)){var t=BigInt(Math.floor(this.volatilityAccumulator*e.binStep));return(t*t*n+BigInt(1e11)-BigInt(1))/BigInt(1e11)}return n},n.getBaseFee=function(e,n){return BigInt(e)*BigInt(n)*BigInt(10)},n.getFeeForAmount=function(e,n){var t=BigInt(1e9)-n;return(e*n+t-BigInt(1))/t},n.getFeeAmount=function(e,n){return(e*n+BigInt(1e9)-BigInt(1))/BigInt(1e9)},n.getProtocolFee=function(e,n){return e*n/BigInt(1e4)},n.getTotalFee=function(e){return this.getBaseFee(e.binStep,e.staticFeeParameters.baseFactor)+this.getVariableFee(e)},n.moveActiveId=function(e,n){return n?e-1:e+1},n.calcAmountInByPrice=function(e,n,t,a,r){return a?"up"===r?((e<<BigInt(t))+n-BigInt(1))/n:(e<<BigInt(t))/n:"up"===r?e*n+(BigInt(1)<<BigInt(t))-BigInt(1)>>BigInt(t):e*n>>BigInt(t)},n.calcAmountOutByPrice=function(e,n,t,a,r){return a?"up"===r?e*n+(BigInt(1)<<BigInt(t))-BigInt(1)>>BigInt(t):e*n>>BigInt(t):"up"===r?((e<<BigInt(t))+n-BigInt(1))/n:(e<<BigInt(t))/n},e}(),V=function(e,n){if(0===n)throw new Error("Division by zero");return[e/n,e%n]},z=function(e,n,t,a){var r=e*n;return"up"===a?Math.floor((r+t-1)/t):"down"===a?V(r,t)[0]:void 0},H=function(e,n,t,a){return z(e,1<<t,n,a)},K=function(e,n){var t=Math.floor(n%16),a=[-t,16-t-1],r=[a[0]+16*e,a[1]+16*e];return{range:r,binLower:n+r[0],binUpper:n+r[1]-1}},W=function(){var e=l(v().m((function e(n){var t;return v().w((function(e){for(;;)switch(e.n){case 0:return t=1,e.p=1,e.n=2,new Promise(function(){var e=l(v().m((function e(a){var r,i,o;return v().w((function(e){for(;;)switch(e.n){case 0:return r=setTimeout((function(){a(1e6*t)}),2e3),e.n=1,n.getRecentPrioritizationFees();case 1:i=e.v.filter((function(e){return(null==e?void 0:e.prioritizationFee)>0})).map((function(e){return null==e?void 0:e.prioritizationFee})),clearTimeout(r),o=i.length>0?Math.max.apply(Math,i.concat([1e6])):1e6,a(o*t);case 2:return e.a(2)}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:return e.a(2,e.v);case 3:return e.p=3,e.a(2,1e6*t)}}),e,null,[[1,3]])})));return function(n){return e.apply(this,arguments)}}(),U=function(e){function n(n){return e.call(this,n)||this}h(n,e);var t,a,r=n.prototype;return r.getPairAccount=function(){var e=l(v().m((function e(n){return v().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,this.lbProgram.account.pair.fetch(n);case 1:return e.a(2,e.v)}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.getPositionAccount=function(){var e=l(v().m((function e(n){return v().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,this.lbProgram.account.position.fetch(n);case 1:return e.a(2,e.v)}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.getBinArray=function(){var e=l(v().m((function e(n){var t,a,r,s,c;return v().w((function(e){for(;;)switch(e.n){case 0:if(t=n.binArrayIndex,a=n.pair,r=n.payer,s=n.transaction,c=i.PublicKey.findProgramAddressSync([u.Buffer.from(o.utils.bytes.utf8.encode("bin_array")),a.toBuffer(),new o.BN(t).toArrayLike(u.Buffer,"le",4)],this.lbProgram.programId)[0],!s||!r){e.n=3;break}return e.n=1,this.connection.getAccountInfo(c);case 1:if(e.v){e.n=3;break}return e.n=2,this.lbProgram.methods.initializeBinArray(t).accountsPartial({pair:a,binArray:c,user:r}).instruction();case 2:s.add(e.v);case 3:return e.a(2,c)}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.getBinArrayInfo=function(){var e=l(v().m((function e(n){var t,a,r,i,o,s,u,c,m;return v().w((function(e){for(;;)switch(e.n){case 0:return a=n.pair,r=n.payer,i=t=n.binArrayIndex,o=[],e.n=1,this.getBinArray({binArrayIndex:t,pair:a,payer:r});case 1:return s=e.v,e.n=2,this.lbProgram.account.binArray.fetch(s);case 2:return u=e.v.bins,e.p=3,e.n=4,this.getBinArray({binArrayIndex:t+1,pair:a,payer:r});case 4:return c=e.v,e.n=5,this.lbProgram.account.binArray.fetch(c);case 5:o=[].concat(u,e.v.bins),e.n=9;break;case 6:return e.p=6,e.n=7,this.getBinArray({binArrayIndex:t-1,pair:a,payer:r});case 7:return m=e.v,e.n=8,this.lbProgram.account.binArray.fetch(m);case 8:o=[].concat(e.v.bins,u),i-=1;case 9:return e.a(2,{bins:o,resultIndex:i})}}),e,this,[[3,6]])})));return function(n){return e.apply(this,arguments)}}(),r.getBinsReserveInformation=function(){var e=l(v().m((function e(n){var t,a,r,i,o,s,u,c,m,p,d;return v().w((function(e){for(;;)switch(e.n){case 0:return t=n.position,a=n.pair,r=n.payer,e.n=1,this.getPositionAccount(t);case 1:return o=(i=e.v).lowerBinId,s=Math.floor(o/256),e.n=2,this.getBinArrayInfo({binArrayIndex:s,pair:a,payer:r});case 2:return c=(u=e.v).bins,m=256*u.resultIndex,p=Array.from({length:i.upperBinId-o+1},(function(e,n){return o-m+n})),d=p.map((function(e,n){var t=i.liquidityShares[n].toString(),a=c[e];if(a){var r=+BigInt(a.reserveX).toString(),s=+BigInt(a.reserveY).toString(),u=+BigInt(a.totalSupply).toString();return{reserveX:(Number(r)>0?z(Number(t),Number(r),Number(u),"down"):0)||0,reserveY:(Number(s)>0?z(Number(t),Number(s),Number(u),"down"):0)||0,totalSupply:+BigInt(a.totalSupply).toString(),binId:o+n,binPosistion:e,liquidityShare:i.liquidityShares[n]}}return{reserveX:0,reserveY:0,totalSupply:"0",binId:o+n,binPosistion:e,liquidityShare:t}})),e.a(2,d)}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.createPairWithConfig=function(){var e=l(v().m((function e(n){var t,a,r,s,c,m,p,d,_,l,y,k,b,f,h;return v().w((function(e){for(;;)switch(e.n){case 0:return a=n.tokenQuote,r=n.binStep,s=n.ratePrice,c=n.payer,m=new i.PublicKey((t=n.tokenBase).mintAddress),p=new i.PublicKey(a.mintAddress),d=N(s||1,r,t.decimal,a.decimal),_=d/256,d%256<128&&(_-=1),l=new i.Transaction,y=i.PublicKey.findProgramAddressSync([u.Buffer.from(o.utils.bytes.utf8.encode("bin_step_config")),this.lbConfig.toBuffer(),new Uint8Array([r])],this.lbProgram.programId)[0],k=i.PublicKey.findProgramAddressSync([u.Buffer.from(o.utils.bytes.utf8.encode("quote_asset_badge")),this.lbConfig.toBuffer(),p.toBuffer()],this.lbProgram.programId)[0],b=i.PublicKey.findProgramAddressSync([u.Buffer.from(o.utils.bytes.utf8.encode("pair")),this.lbConfig.toBuffer(),m.toBuffer(),p.toBuffer(),new Uint8Array([r])],this.lbProgram.programId)[0],e.n=1,this.lbProgram.methods.initializePair(d).accountsPartial({liquidityBookConfig:this.lbConfig,binStepConfig:y,quoteAssetBadge:k,pair:b,tokenMintX:m,tokenMintY:p,user:c}).instruction();case 1:return l.add(e.v),f=i.PublicKey.findProgramAddressSync([u.Buffer.from(o.utils.bytes.utf8.encode("bin_array")),b.toBuffer(),new o.BN(_).toArrayLike(u.Buffer,"le",4)],this.lbProgram.programId)[0],h=i.PublicKey.findProgramAddressSync([u.Buffer.from(o.utils.bytes.utf8.encode("bin_array")),b.toBuffer(),new o.BN(Number(_)+1).toArrayLike(u.Buffer,"le",4)],this.lbProgram.programId)[0],e.n=2,this.lbProgram.methods.initializeBinArray(_).accountsPartial({pair:b,binArray:f,user:c}).instruction();case 2:return l.add(e.v),e.n=3,this.lbProgram.methods.initializeBinArray(new o.BN(_+1)).accountsPartial({pair:b,binArray:h,user:c}).instruction();case 3:return l.add(e.v),e.a(2,{tx:l,pair:b.toString(),binArrayLower:f.toString(),binArrayUpper:h.toString(),hooksConfig:this.hooksConfig.toString(),activeBin:Number(d)})}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.createPosition=function(){var e=l(v().m((function e(n){var t,a,r,c,m,p,d,_,l;return v().w((function(e){for(;;)switch(e.n){case 0:return t=n.payer,a=n.relativeBinIdLeft,r=n.relativeBinIdRight,c=n.pair,m=n.binArrayIndex,p=n.positionMint,d=n.transaction,_=i.PublicKey.findProgramAddressSync([u.Buffer.from(o.utils.bytes.utf8.encode("position")),p.toBuffer()],this.lbProgram.programId)[0],l=s.getAssociatedTokenAddressSync(p,t,!0,s.TOKEN_2022_PROGRAM_ID),e.n=1,this.getBinArray({binArrayIndex:m,pair:c,payer:t});case 1:return e.n=2,this.getBinArray({binArrayIndex:m+1,pair:c,payer:t});case 2:return e.n=3,this.lbProgram.methods.createPosition(new o.BN(a),new o.BN(r)).accountsPartial({pair:c,position:_,positionMint:p,positionTokenAccount:l,tokenProgram:s.TOKEN_2022_PROGRAM_ID,user:t}).instruction();case 3:return d.add(e.v),e.a(2,{position:_.toString()})}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.addLiquidityIntoPosition=function(){var e=l(v().m((function e(n){var t,a,r,c,m,p,d,_,l,y,k,b,f,h,g,w,P,A,B,I,S,x,E,M,C,F,T;return v().w((function(e){for(;;)switch(e.n){case 0:return r=n.positionMint,c=n.payer,m=n.pair,p=n.binArrayLower,d=n.binArrayUpper,_=n.transaction,l=n.liquidityDistribution,y=n.amountX,k=n.amountY,e.n=1,this.getPairAccount(m);case 1:return b=e.v,e.n=2,O(b.tokenMintX,this.connection);case 2:return f=e.v,e.n=3,O(b.tokenMintY,this.connection);case 3:return h=e.v,e.n=4,this.getPairVaultInfo({tokenAddress:b.tokenMintX,pair:m});case 4:return g=e.v,e.n=5,this.getPairVaultInfo({tokenAddress:b.tokenMintY,pair:m});case 5:return w=e.v,e.n=6,this.getUserVaultInfo({tokenAddress:b.tokenMintX,payer:c});case 6:return P=e.v,e.n=7,this.getUserVaultInfo({tokenAddress:b.tokenMintY,payer:c});case 7:return A=e.v,b.tokenMintY.toString()!==q&&b.tokenMintX.toString()!==q||(B=b.tokenMintY.toString()===q,I=B?k:y,(S=l.reduce((function(e,n){return e+(B?n.distributionY:n.distributionX)}),0))&&(_.add(i.SystemProgram.transfer({fromPubkey:c,toPubkey:x=B?A:P,lamports:S*I/1e4})),_.add(s.createSyncNativeInstruction(x)))),e.n=8,W(this.connection).catch((function(){}));case 8:return E=Math.max(null!=(t=Number(e.v))?t:0,1e6*(null!=(a=this.bufferGas)?a:1)),M=i.PublicKey.findProgramAddressSync([u.Buffer.from(o.utils.bytes.utf8.encode("hook")),this.hooksConfig.toBuffer(),m.toBuffer()],this.hooksProgram.programId)[0],C=i.PublicKey.findProgramAddressSync([u.Buffer.from(o.utils.bytes.utf8.encode("position")),r.toBuffer()],this.lbProgram.programId)[0],F=s.getAssociatedTokenAddressSync(r,c,!0,s.TOKEN_2022_PROGRAM_ID),e.n=9,this.lbProgram.methods.increasePosition(new o.BN(y),new o.BN(k),l).accountsPartial({pair:m,position:C,binArrayLower:p,binArrayUpper:d,tokenVaultX:g,tokenVaultY:w,userVaultX:P,userVaultY:A,positionTokenAccount:F,tokenMintX:b.tokenMintX,tokenMintY:b.tokenMintY,tokenProgramX:f,tokenProgramY:h,positionTokenProgram:s.TOKEN_2022_PROGRAM_ID,hook:M,hooksProgram:this.hooksProgram.programId,user:c,positionMint:r}).remainingAccounts([{pubkey:m,isWritable:!1,isSigner:!1},{pubkey:p,isWritable:!1,isSigner:!1},{pubkey:d,isWritable:!1,isSigner:!1}]).instruction();case 9:T=e.v,_.add(i.ComputeBudgetProgram.setComputeUnitLimit({units:4e5})),_.add(i.ComputeBudgetProgram.setComputeUnitPrice({microLamports:E})),_.add(T);case 10:return e.a(2)}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.removeMultipleLiquidity=function(){var e=l(v().m((function e(n){var t,a,r,m,p,d,_,y,k,b,f,h,g,w,P,A,B,I,S,x,E,M,C,F=this;return v().w((function(e){for(;;)switch(e.n){case 0:return r=n.maxPositionList,m=n.payer,p=n.type,d=n.pair,_=n.tokenMintX,y=n.tokenMintY,e.n=1,O(_,this.connection);case 1:return k=e.v,e.n=2,O(y,this.connection);case 2:return b=e.v,f=new i.Transaction,e.n=3,this.getPairVaultInfo({tokenAddress:_,pair:d,payer:m,transaction:f});case 3:return h=e.v,e.n=4,this.getPairVaultInfo({tokenAddress:y,pair:d,payer:m,transaction:f});case 4:return g=e.v,e.n=5,this.getUserVaultInfo({tokenAddress:_,payer:m,transaction:f});case 5:return w=e.v,e.n=6,this.getUserVaultInfo({tokenAddress:y,payer:m,transaction:f});case 6:return P=e.v,A=i.PublicKey.findProgramAddressSync([u.Buffer.from(o.utils.bytes.utf8.encode("hook")),this.hooksConfig.toBuffer(),d.toBuffer()],this.hooksProgram.programId)[0],B=s.getAssociatedTokenAddressSync(y,A,!0,b),e.n=7,this.connection.getAccountInfo(B);case 7:return e.v||(I=s.createAssociatedTokenAccountInstruction(m,B,A,y,b),f.add(I)),e.n=8,W(this.connection).catch((function(){}));case 8:return S=Math.max(null!=(t=Number(e.v))?t:0,1e6*(null!=(a=this.bufferGas)?a:1)),x=[],e.n=9,Promise.all(r.map(function(){var e=l(v().m((function e(n){var t,a,r,l,f,B,I,q,E,M,C,T,O,L,N,D,X,R,V;return v().w((function(e){for(;;)switch(e.n){case 0:return t=n.position,a=n.start,r=n.end,l=n.positionMint,f=Math.floor(a/256),e.n=1,F.getBinArrayInfo({binArrayIndex:f,pair:d,payer:m});case 1:return B=e.v.resultIndex,e.n=2,F.getBinArray({binArrayIndex:B,pair:d,payer:m});case 2:return I=e.v,e.n=3,F.getBinArray({binArrayIndex:B+1,pair:d,payer:m});case 3:return q=e.v,(E=new i.Transaction).add(i.ComputeBudgetProgram.setComputeUnitLimit({units:4e5})),E.add(i.ComputeBudgetProgram.setComputeUnitPrice({microLamports:S})),M=s.getAssociatedTokenAddressSync(new i.PublicKey(l),m,!0,s.TOKEN_2022_PROGRAM_ID),V=c,e.n=4,F.getBinsReserveInformation({position:new i.PublicKey(t),pair:d,payer:m});case 4:if(C=V(e.v),T=i.PublicKey.findProgramAddressSync([u.Buffer.from(o.utils.bytes.utf8.encode("bin_array")),A.toBuffer(),new o.BN(32767).toArrayLike(u.Buffer,"le",4)],F.hooksProgram.programId)[0],O=i.PublicKey.findProgramAddressSync([u.Buffer.from(o.utils.bytes.utf8.encode("bin_array")),A.toBuffer(),new o.BN(32768).toArrayLike(u.Buffer,"le",4)],F.hooksProgram.programId)[0],L=i.PublicKey.findProgramAddressSync([u.Buffer.from(o.utils.bytes.utf8.encode("position")),A.toBuffer(),new i.PublicKey(t).toBuffer()],F.hooksProgram.programId)[0],N=[],"removeBoth"===p&&(N=C.map((function(e){var n=e.binId;return n>=Number(a)&&n<=Number(r)?e.liquidityShare:new o.BN(0)}))),"removeBaseToken"===p&&(N=C.map((function(e){return e.reserveX&&0===e.reserveY?e.liquidityShare:new o.BN(0)}))),"removeQuoteToken"===p&&(N=C.map((function(e){return e.reserveY&&0===e.reserveX?e.liquidityShare:new o.BN(0)}))),D=C.filter((function(e){return"removeBoth"===p?!new o.BN(e.liquidityShare).eq(new o.BN(0)):"removeQuoteToken"===p?!e.reserveX:!e.reserveY})),!("removeBoth"===p&&r-a+1>=D.length||r-a+1==16&&16===D.length)){e.n=6;break}return e.n=5,F.lbProgram.methods.closePosition().accountsPartial({pair:d,position:t,binArrayLower:I,binArrayUpper:q,tokenVaultX:h,tokenVaultY:g,userVaultX:w,userVaultY:P,positionTokenAccount:M,tokenMintX:_,tokenMintY:y,tokenProgramX:k,tokenProgramY:b,positionTokenProgram:s.TOKEN_2022_PROGRAM_ID,hook:A,hooksProgram:F.hooksProgram.programId,user:m,positionMint:l}).instruction();case 5:X=e.v,x.push({position:t}),E.add(X),e.n=8;break;case 6:return e.n=7,null==(R=F.lbProgram.methods.decreasePosition(N).accountsPartial({pair:d,position:t,binArrayLower:I,binArrayUpper:q,tokenVaultX:h,tokenVaultY:g,userVaultX:w,userVaultY:P,positionTokenAccount:M,tokenMintX:_,tokenMintY:y,tokenProgramX:k,tokenProgramY:b,positionTokenProgram:s.TOKEN_2022_PROGRAM_ID,hook:A,hooksProgram:F.hooksProgram.programId,user:m,positionMint:l}))?void 0:R.remainingAccounts([{pubkey:d,isWritable:!1,isSigner:!1},{pubkey:I,isWritable:!1,isSigner:!1},{pubkey:q,isWritable:!1,isSigner:!1},{pubkey:T,isWritable:!0,isSigner:!1},{pubkey:O,isWritable:!0,isSigner:!1},{pubkey:L,isWritable:!0,isSigner:!1}]).instruction();case 7:E.add(e.v);case 8:return e.a(2,E)}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 9:return E=e.v,M=new i.Transaction,y.toString()!==q&&_.toString()!==q||(C=y.toString()===q,M.add(s.createCloseAccountInstruction(C?P:w,m,m))),e.a(2,{txs:E,txCreateAccount:f.instructions.length?f:void 0,txCloseAccount:M.instructions.length?M:void 0,positionClosed:x})}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.swap=function(){var e=l(v().m((function e(n){var t,a,r,c,m,p,d,_,y,k,b,f,h,g,w,P,A,B,I,S,x,E,M,C,F,T,L,N,D,X,R,V,z,H,K,W,U,Y,G,Q,j=this;return v().w((function(e){for(;;)switch(e.n){case 0:return t=n.tokenMintX,a=n.tokenMintY,r=n.amount,c=n.otherAmountOffset,m=n.swapForY,p=n.isExactInput,d=n.pair,_=n.payer,e.n=1,this.getPairAccount(d);case 1:if(y=e.v){e.n=2;break}throw new Error("Pair not found");case 2:return k=Math.floor(y.activeId/256),b=[k-1,k,k+1],e.n=3,Promise.all(b.map(function(){var e=l(v().m((function e(n){return v().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,j.getBinArray({binArrayIndex:n,pair:d,payer:_});case 1:return e.a(2,e.v)}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 3:return f=e.v,e.n=4,this.connection.getMultipleAccountsInfo(f);case 4:if(h=e.v,!((g=b.filter((function(e,n){return h[n]}))).length<2)){e.n=5;break}throw new Error("No valid bin arrays found for the pair");case 5:return 2===g.length?(w=g[0],P=g[1]):(A=g[0],B=g[1],I=g[2],w=(S=y.activeId%256<128?[A,B]:[B,I])[0],P=S[1]),e.n=6,this.getBinArray({pair:d,binArrayIndex:w,payer:_});case 6:return x=e.v,e.n=7,this.getBinArray({pair:d,binArrayIndex:P,payer:_});case 7:return E=e.v,e.n=8,Promise.all([O(t,this.connection),O(a,this.connection)]);case 8:return C=(M=e.v)[0],F=M[1],e.n=9,this.connection.getLatestBlockhash();case 9:return L=new i.Transaction({feePayer:_,blockhash:(T=e.v).blockhash,lastValidBlockHeight:T.lastValidBlockHeight}),N=s.getAssociatedTokenAddressSync(t,d,!0,C),D=s.getAssociatedTokenAddressSync(a,d,!0,F),X=s.getAssociatedTokenAddressSync(t,_,!0,C),R=s.getAssociatedTokenAddressSync(a,_,!0,F),e.n=10,this.connection.getAccountInfo(X);case 10:return e.v||(V=s.createAssociatedTokenAccountInstruction(_,X,_,t,C),L.add(V)),e.n=11,this.connection.getAccountInfo(R);case 11:return e.v||(z=s.createAssociatedTokenAccountInstruction(_,R,_,a,F),L.add(z)),H=[{pubkey:d,isWritable:!1,isSigner:!1},{pubkey:x,isWritable:!1,isSigner:!1},{pubkey:E,isWritable:!1,isSigner:!1}],y.hook&&(K=i.PublicKey.findProgramAddressSync([u.Buffer.from(o.utils.bytes.utf8.encode("bin_array")),y.hook.toBuffer(),new o.BN(w).toArrayLike(u.Buffer,"le",4)],this.hooksProgram.programId)[0],W=i.PublicKey.findProgramAddressSync([u.Buffer.from(o.utils.bytes.utf8.encode("bin_array")),y.hook.toBuffer(),new o.BN(P).toArrayLike(u.Buffer,"le",4)],this.hooksProgram.programId)[0],H=[{pubkey:K,isWritable:!0,isSigner:!1},{pubkey:W,isWritable:!0,isSigner:!1},{pubkey:d,isWritable:!1,isSigner:!1},{pubkey:K,isWritable:!0,isSigner:!1},{pubkey:W,isWritable:!0,isSigner:!1}]),a.toString()!==q&&t.toString()!==q||(U=a.toString()===q,Y=U?R:X,U&&!m&&(L.add(i.SystemProgram.transfer({fromPubkey:_,toPubkey:Y,lamports:r})),L.add(s.createSyncNativeInstruction(Y))),!U&&m&&(L.add(i.SystemProgram.transfer({fromPubkey:_,toPubkey:Y,lamports:r})),L.add(s.createSyncNativeInstruction(Y)))),e.n=12,this.lbProgram.methods.swap(new o.BN(r.toString()),new o.BN(c.toString()),m,p?{exactInput:{}}:{exactOutput:{}}).accountsPartial({pair:d,binArrayLower:x,binArrayUpper:E,tokenVaultX:N,tokenVaultY:D,userVaultX:X,userVaultY:R,tokenMintX:t,tokenMintY:a,tokenProgramX:C,tokenProgramY:F,user:_,hook:y.hook||null,hooksProgram:this.hooksProgram.programId}).remainingAccounts(H).instruction();case 12:return L.add(e.v),a.toString()!==q&&t.toString()!==q||(G=a.toString()===q,Q=G?R:X,(G&&m||!G&&!m)&&L.add(s.createCloseAccountInstruction(Q,_,_))),e.a(2,L)}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.getQuote=function(){var e=l(v().m((function e(n){var t,a,r,i,o,s,u,c;return v().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,R.fromLbConfig(this.lbProgram,this.connection).calculateInOutAmount(n);case 1:return a=(t=e.v).amountIn,r=t.amountOut,i=Math.round(n.slippage/100*1e9),o=a,s=r,n.isExactInput?s=r*BigInt(1e9-i)/BigInt(1e9):o=a*BigInt(1e9)/BigInt(1e9-i),e.n=2,this.getMaxAmountOutWithFee(n.pair,Number(a.toString()),n.swapForY,n.tokenBaseDecimal,n.tokenQuoteDecimal);case 2:return u=e.v.maxAmountOut,c=new m(r).subtract(new m(u)).divide(new m(u)).multiply(new m(100)).getValue(),e.a(2,{amountIn:a,amountOut:r,amount:n.isExactInput?o:s,otherAmountOffset:n.isExactInput?s:o,priceImpact:Number(c)});case 3:throw e.p=3,e.v;case 4:return e.a(2)}}),e,this,[[0,3]])})));return function(n){return e.apply(this,arguments)}}(),r.getMaxAmountOutWithFee=function(){var e=l(v().m((function e(n,t,a,r,i){var o,s,u,c,m,p,d,_,l,y;return v().w((function(e){for(;;)switch(e.n){case 0:return void 0===a&&(a=!1),void 0===r&&(r=9),void 0===i&&(i=9),e.p=1,o=BigInt(t),e.n=2,this.getPairAccount(n);case 2:return u=null==(s=e.v)?void 0:s.activeId,c=null==s?void 0:s.binStep,m=R.fromLbConfig(this.lbProgram,this.connection),p=m.getTotalFee(s),d=L(c,u,9,9),_=L(c,u,r,i),l=m.getFeeAmount(o,p),o=BigInt(o)-BigInt(l),y=a?(k=Number(o.toString()),z(k,d,1,"down")):H(Number(o.toString()),d,64,"down"),e.a(2,{maxAmountOut:y,price:_});case 3:return e.p=3,e.a(2,{maxAmountOut:0,price:0})}var k}),e,this,[[1,3]])})));return function(n,t,a,r,i){return e.apply(this,arguments)}}(),r.getDexName=function(){return"Saros DLMM"},r.getDexProgramId=function(){return this.lbProgram.programId},r.fetchPoolAddresses=function(){var e=l(v().m((function e(){var n,t,a,r,o,s;return v().w((function(e){for(;;)switch(e.n){case 0:if(n=this.getDexProgramId(),t=this.connection,a=E.accounts.find((function(e){return"Pair"===e.name})),r=a?a.discriminator:void 0){e.n=1;break}throw new Error("Pair account not found");case 1:return e.n=2,t.getProgramAccounts(new i.PublicKey(n),{filters:[{memcmp:{offset:0,bytes:p.bs58.encode(r)}}]});case 2:if(0!==(o=e.v).length){e.n=3;break}throw new Error("Pair not found");case 3:return s=o.reduce((function(e,t){return t.account.owner.toString()!==n.toString()||t.account.data.length<8||e.push(t.pubkey.toString()),e}),[]),e.a(2,s)}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getUserPositions=function(){var e=l(v().m((function e(n){var t,a,r,c,m=this;return v().w((function(e){for(;;)switch(e.n){case 0:return t=n.payer,a=n.pair,r=this.connection,e.n=1,r.getParsedTokenAccountsByOwner(t,{programId:s.TOKEN_2022_PROGRAM_ID});case 1:return c=e.v.value.filter((function(e){var n=e.account.data.parsed.info.tokenAmount.uiAmount;return n&&n>0})).map((function(e){return new i.PublicKey(e.account.data.parsed.info.mint)})),e.n=2,Promise.all(c.map(function(){var e=l(v().m((function e(n){var t,s;return v().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,i.PublicKey.findProgramAddressSync([u.Buffer.from(o.utils.bytes.utf8.encode("position")),n.toBuffer()],m.lbProgram.programId);case 1:return t=e.v[0],e.p=2,e.n=3,r.getAccountInfo(t);case 3:if(e.v){e.n=4;break}return e.a(2,null);case 4:return e.n=5,m.lbProgram.account.position.fetch(t);case 5:if((s=e.v).pair.toString()===a.toString()){e.n=6;break}return e.a(2,null);case 6:return e.a(2,b({},s,{position:t.toString()}));case 7:return e.p=7,e.a(2,null)}}),e,null,[[2,7]])})));return function(n){return e.apply(this,arguments)}}()));case 2:return e.a(2,e.v.filter(Boolean))}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.quote=function(){var e=l(v().m((function e(n){var t,a,r;return v().w((function(e){for(;;)switch(e.n){case 0:return t=n.amount,a=n.metadata,r=n.optional,e.n=1,this.getQuote({amount:BigInt(t),isExactInput:r.isExactInput,pair:new i.PublicKey(a.poolAddress),slippage:r.slippage,swapForY:r.swapForY,tokenBase:new i.PublicKey(a.baseMint),tokenBaseDecimal:a.extra.tokenBaseDecimal,tokenQuote:new i.PublicKey(a.quoteMint),tokenQuoteDecimal:a.extra.tokenQuoteDecimal});case 1:return e.a(2,e.v)}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.fetchPoolMetadata=function(){var e=l(v().m((function e(n){var t,a,r,o,s,u,c,m;return v().w((function(e){for(;;)switch(e.n){case 0:return a=this.connection,e.n=1,this.lbProgram.account.pair.fetch(new i.PublicKey(n));case 1:if(r=e.v){e.n=2;break}throw new Error("Pair not found");case 2:return e.n=3,this.getPairVaultInfo({tokenAddress:new i.PublicKey(r.tokenMintX),pair:new i.PublicKey(n)});case 3:return o=e.v,e.n=4,this.getPairVaultInfo({tokenAddress:new i.PublicKey(r.tokenMintY),pair:new i.PublicKey(n)});case 4:return s=e.v,e.n=5,Promise.all([a.getTokenAccountBalance(o).catch((function(){return{value:{uiAmount:0,amount:"0",decimals:0,uiAmountString:"0"}}})),a.getTokenAccountBalance(s).catch((function(){return{value:{uiAmount:0,amount:"0",decimals:0,uiAmountString:"0"}}}))]);case 5:return c=(u=e.v)[0],m=u[1],e.a(2,{poolAddress:n,baseMint:r.tokenMintX.toString(),baseReserve:c.value.amount,quoteMint:r.tokenMintY.toString(),quoteReserve:m.value.amount,tradeFee:r.staticFeeParameters.baseFactor*r.binStep/1e6,extra:{hook:null==(t=r.hook)?void 0:t.toString(),tokenQuoteDecimal:c.value.decimals,tokenBaseDecimal:m.value.decimals}})}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.getPairVaultInfo=function(){var e=l(v().m((function e(n){var t,a,r,o,u,c,m;return v().w((function(e){for(;;)switch(e.n){case 0:return t=n.pair,a=n.payer,r=n.transaction,o=new i.PublicKey(n.tokenAddress),e.n=1,O(o,this.connection);case 1:if(c=s.getAssociatedTokenAddressSync(o,t,!0,u=e.v),!r||!a){e.n=3;break}return e.n=2,this.connection.getAccountInfo(c);case 2:e.v||(m=s.createAssociatedTokenAccountInstruction(a,c,t,o,u),r.add(m));case 3:return e.a(2,c)}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.getUserVaultInfo=function(){var e=l(v().m((function e(n){var t,a,r,i,o,u;return v().w((function(e){for(;;)switch(e.n){case 0:return t=n.tokenAddress,a=n.payer,r=n.transaction,e.n=1,O(t,this.connection);case 1:if(o=s.getAssociatedTokenAddressSync(t,a,!0,i=e.v),!r){e.n=3;break}return e.n=2,this.connection.getAccountInfo(o);case 2:e.v||(u=s.createAssociatedTokenAccountInstruction(a,o,a,t,i),r.add(u));case 3:return e.a(2,o)}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.listenNewPoolAddress=function(){var e=l(v().m((function e(n){var t,a=this;return v().w((function(e){for(;;)switch(e.n){case 0:t=this.getDexProgramId(),this.connection.onLogs(t,(function(e){if(!e.err)for(var t,r=k(e.logs||[]);!(t=r()).done;)t.value.includes("Instruction: InitializePair")&&a.getPairAddressFromLogs(e.signature).then((function(e){n(e)}))}),"finalized");case 1:return e.a(2)}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.getPairAddressFromLogs=function(){var e=l(v().m((function e(n){var t,a,r,o,s,c,m,p,d;return v().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,this.connection.getTransaction(n,{maxSupportedTransactionVersion:0});case 1:if(t=e.v){e.n=2;break}throw new Error("Transaction not found");case 2:a=i.TransactionMessage.decompile(t.transaction.message),r=a.instructions,o=E.instructions.find((function(e){return"initialize_pair"===e.name})),s=u.Buffer.from(o.discriminator),c="",m=v().m((function e(){var n,t,a;return v().w((function(e){for(;;)switch(e.n){case 0:if((t=d.value).data.subarray(0,8).equals(s)){e.n=1;break}return e.a(2,1);case 1:a=o.accounts.map((function(e,n){return{name:e.name,address:t.keys[n].pubkey.toString()}})),c=(null==(n=a.find((function(e){return"pair"===e.name})))?void 0:n.address)||"";case 2:return e.a(2)}}),e)})),p=k(r);case 3:if((d=p()).done){e.n=6;break}return e.d(P(m()),4);case 4:if(!e.v){e.n=5;break}return e.a(3,5);case 5:e.n=3;break;case 6:return e.a(2,c)}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),t=n,(a=[{key:"lbConfig",get:function(){return this.mode===exports.MODE.DEVNET?new i.PublicKey("BJG6uz2zY2XFG7uomiyi17qqDeYJUnbprGbpyzYN1ncU"):new i.PublicKey("BqPmjcPbAwE7mH23BY8q8VUEN4LSjhLUv41W87GsXVn8")}},{key:"hooksConfig",get:function(){return this.mode===exports.MODE.DEVNET?new i.PublicKey("GN3UN8CtcSvC1VZxgHwfKqXXi642EwNk5K19FupZGMrZ"):new i.PublicKey("DgW5ARD9sU3W6SJqtyJSH3QPivxWt7EMvjER9hfFKWXF")}}])&&function(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,B(a.key),a)}}(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(T);exports.ACTIVE_ID=8388608,exports.BASE_FACTOR=8e3,exports.BASIS_POINT_MAX=1e4,exports.BIN_ARRAY_INDEX=32767,exports.BIN_ARRAY_SIZE=256,exports.BIN_STEP=1,exports.BIN_STEP_CONFIGS=[{binStep:1,feeParameters:{baseFactor:1e4,filterPeriod:10,decayPeriod:120,reductionFactor:5e3,variableFeeControl:2e6,maxVolatilityAccumulator:1e5,protocolShare:2e3,space:[0,0]}},{binStep:2,feeParameters:{baseFactor:1e4,filterPeriod:10,decayPeriod:120,reductionFactor:5e3,variableFeeControl:5e5,maxVolatilityAccumulator:25e4,protocolShare:2e3,space:[0,0]}},{binStep:5,feeParameters:{baseFactor:1e4,filterPeriod:30,decayPeriod:600,reductionFactor:5e3,variableFeeControl:12e4,maxVolatilityAccumulator:3e5,protocolShare:2e3,space:[0,0]}},{binStep:10,feeParameters:{baseFactor:1e4,filterPeriod:30,decayPeriod:600,reductionFactor:5e3,variableFeeControl:4e4,maxVolatilityAccumulator:35e4,protocolShare:2e3,space:[0,0]}},{binStep:20,feeParameters:{baseFactor:1e4,filterPeriod:30,decayPeriod:600,reductionFactor:5e3,variableFeeControl:2e4,maxVolatilityAccumulator:35e4,protocolShare:2e3,space:[0,0]}},{binStep:50,feeParameters:{baseFactor:1e4,filterPeriod:120,decayPeriod:1200,reductionFactor:5e3,variableFeeControl:1e4,maxVolatilityAccumulator:25e4,protocolShare:2e3,space:[0,0]}},{binStep:100,feeParameters:{baseFactor:1e4,filterPeriod:300,decayPeriod:1200,reductionFactor:5e3,variableFeeControl:7500,maxVolatilityAccumulator:15e4,protocolShare:2e3,space:[0,0]}},{binStep:200,feeParameters:{baseFactor:1e4,filterPeriod:300,decayPeriod:1200,reductionFactor:5e3,variableFeeControl:7500,maxVolatilityAccumulator:15e4,protocolShare:2e3,space:[0,0]}},{binStep:250,feeParameters:{baseFactor:2e4,filterPeriod:300,decayPeriod:1200,reductionFactor:5e3,variableFeeControl:7500,maxVolatilityAccumulator:15e4,protocolShare:2e3,space:[0,0]}}],exports.CCU_LIMIT=4e5,exports.CONFIG=S,exports.DECAY_PERIOD=600,exports.FILTER_PERIOD=30,exports.FIXED_LENGTH=16,exports.LiquidityBookServices=U,exports.MAX_BASIS_POINTS=1e4,exports.MAX_VOLATILITY_ACCUMULATOR=35e4,exports.ONE=1,exports.PRECISION=1e9,exports.PROTOCOL_SHARE=2e3,exports.REDUCTION_FACTOR=5e3,exports.REWARDS_DURATION=86400,exports.REWARDS_PER_SECOND=x,exports.SCALE_OFFSET=64,exports.START_TIME=1e3,exports.UNIT_PRICE_DEFAULT=1e6,exports.VARIABLE_FEE_CONTROL=4e4,exports.VARIABLE_FEE_PRECISION=1e11,exports.WRAP_SOL_ADDRESS=q,exports.createUniformDistribution=function(e){var n=e.shape,t=e.binRange,a=t[0],r=t[1];if(a>r)throw new Error("Invalid binRange: minBin must be <= maxBin");var i=Array.from({length:r-a+1},(function(e,n){return n+a}));if(n===exports.LiquidityShape.Spot){var o=r-a+1,s=i.findIndex((function(e){return 0===e}));if(-1===s){var u=a>0,c=r<0,m=1e4/o;return i.map((function(e){return{relativeBinId:e,distributionX:u?m:0,distributionY:c?m:0}}))}var p=Math.abs(a),d=r,_=Array.from({length:o},(function(e,n){if(n<s)return 0;var t=Math.floor(2e4/(2*d+1));return n===s?1e4-t*d:t})),l=Array.from({length:o},(function(e,n){if(n>s)return 0;var t=Math.floor(2e4/(2*p+1));return n===s?1e4-t*p:t}));return i.map((function(e,n){return{relativeBinId:e,distributionX:_[n],distributionY:l[n]}}))}if(n===exports.LiquidityShape.Curve)return function(e){var n=[],t=[],a=[],r=function(e){return e/(e>=20?2:e>=15?1.8:e>=10?1.7:e>=8?1.6:e>=6?1.5:e>=5?1.4:1)};if(e[1]<0){var i=e[1]-e[0]+1,o=Array.from(Array(0-e[0]).keys()).reverse().slice(0,i).map((function(e){return-1*(e+1)}));n=[].concat(o),0===e[1]&&n.push(0),t=[].concat(Array(n.length).fill(0));var s=n.length-1,u=r(s),c=1/(Math.sqrt(2*Math.PI)*u);a=n.map((function(e,n){return 2*c*Math.exp(-.5*Math.pow((s-n)/u,2))}))}else if(0<e[0]){var m=e[1]-e[0]+1,p=Array.from(Array(e[1]-0).keys()).reverse().slice(0,m).reverse().map((function(e){return e+1}));n=[].concat(p),0===e[0]&&n.unshift(0),a=[].concat(Array(n.length).fill(0));var d=r(n.length-1),_=1/(Math.sqrt(2*Math.PI)*d);t=n.map((function(e,n){return 2*_*Math.exp(-.5*Math.pow(n/d,2))}))}else{var l=0-e[0],y=e[1]-0,k=Array.from(Array(l).keys()).reverse().map((function(e){return-1*(e+1)})),b=Array.from(Array(y).keys()).map((function(e){return e+1}));n=[].concat(k,[0],b);var f=b.length,h=r(f),g=0===f?1:1/(Math.sqrt(2*Math.PI)*h);t=[].concat(Array(l).fill(0),[g],b.map((function(e,n){return 2*g*Math.exp(-.5*Math.pow((n+1)/h,2))})));var v=k.length,w=r(v),P=0===v?1:1/(Math.sqrt(2*Math.PI)*w);a=[].concat(k.map((function(e,n){return 2*P*Math.exp(-.5*Math.pow((v-n)/w,2))})),[P],Array(y).fill(0))}var A=t.map((function(e){return Math.floor(1e4*e)})),B=a.map((function(e){return Math.floor(1e4*e)})),I=A.reduce((function(e,n){return e+n}),0),S=B.reduce((function(e,n){return e+n}),0);if(I>0&&1e4!==I){var x=I>1e4,q=Math.abs(I-1e4),E=A.filter((function(e){return e>0})).length,M=V(q,E),C=M[0],F=M[1];A=A.map((function(e){return 0===e?e:x?e-Math.floor(C):e+Math.floor(C)}));var T=F;if(F>0)if(x){var O=A.reverse().map((function(e){return 0===e?e:T>0?(T--,e-1):e}));A=O.reverse()}else A=A.map((function(e){return 0===e?e:T>0?(T--,e+1):e}))}if(S>0&&1e4!==S){var L=S>1e4,N=Math.abs(S-1e4),D=B.filter((function(e){return e>0})).length,X=V(N,D),R=X[0],z=X[1];B=B.map((function(e,n){return 0===e?e:z>0&&n===D-1?L?e-Math.floor(R)-z:e+Math.floor(R)+z:L?e-Math.floor(R):e+Math.floor(R)}))}return n.map((function(e,n){return{relativeBinId:e,distributionX:A[n],distributionY:B[n]}}))}(t);if(n===exports.LiquidityShape.BidAsk){var y=[],k=[],b=[];if(r<0){var f=r-a+1,h=Array.from(Array(0-a).keys()).reverse().slice(0,f).map((function(e){return-1*(e+1)}));b=[].concat(h),k=[].concat(Array(b.length).fill(0));var g=Math.pow(b[0],2);y=b.map((function(e){return-2*(e-1)/g}))}else if(0<a){var v=t[1]-t[0]+1,w=Array.from(Array(t[1]-0).keys()).reverse().slice(0,v).reverse().map((function(e){return e+1}));b=[].concat(w);var P=Math.pow(b[b.length-1],2);k=b.map((function(e){return 2*(e+1)/P})),y=[].concat(Array(b.length).fill(0))}else{var A=0-t[0],B=t[1]-0,I=Array.from(Array(A).keys()).reverse().map((function(e){return-1*(e+1)})),S=Array.from(Array(B).keys()).map((function(e){return e+1}));b=[].concat(I,[0],S);var x=0===S.length?1:1===S.length&&1===S[0]?3:Math.pow(S[S.length-1],2);k=[].concat(Array(A).fill(0),[1/x],S.map((function(e){return(e+1)/x})));var q=0===I.length?1:-1===I[0]?3:Math.pow(I[0],2);y=[].concat(I.map((function(e){return-1*(e-1)/q})),[1/q],Array(B).fill(0))}var E=k.map((function(e){return Math.floor(1e4*e)})),M=y.map((function(e){return Math.floor(1e4*e)})),C=E.reduce((function(e,n){return e+n}),0),F=M.reduce((function(e,n){return e+n}),0);if(C>0&&1e4!==C){var T=C>1e4,O=Math.abs(C-1e4),L=E.filter((function(e){return e>0})).length,N=V(O,L),D=N[0],X=N[1];E=E.map((function(e){return 0===e?e:T?e-Math.floor(D):e+Math.floor(D)}));var R=X;if(X>0)if(T){var z=E.reverse().map((function(e){return 0===e?e:R>0?(R--,e-1):e}));E=z.reverse()}else E=E.map((function(e){return 0===e?e:R>0?(R--,e+1):e}))}if(F>0&&1e4!==F){var H=F>1e4,K=Math.abs(F-1e4),W=M.filter((function(e){return e>0})).length,U=V(K,W),Y=U[0],G=U[1];M=M.map((function(e,n){return 0===e?e:G>0&&0===n?H?e-Math.floor(Y)-G:e+Math.floor(Y)+G:H?e-Math.floor(Y):e+Math.floor(Y)}))}return b.map((function(e,n){return{relativeBinId:e,distributionX:E[n],distributionY:M[n]}}))}throw new Error("Unsupported liquidity shape: "+n)},exports.findPosition=function(e,n){return void 0===n&&(n=8388608),function(t){var a=K(e,n);return t.lowerBinId<=a.binLower&&t.upperBinId>=a.binUpper}},exports.getBinRange=K,exports.getGasPrice=W,exports.getMaxBinArray=function(e,n){var t=[n+e[0],n+e[1]],a=[Math.floor(t[0]/256),Math.floor(t[1]/256)];return a[1]===a[0]&&(a[1]+=1),Array.from({length:a[1]-a[0]-1+1},(function(e,n){var t=a[0]+2*n;return{binArrayLowerIndex:t,binArrayUpperIndex:t+1}}))},exports.getMaxPosition=function(e,n){var t=Math.floor(n/16),a=[Math.floor((n+e[0])/16),Math.floor((n+e[1])/16)];return Array.from({length:a[1]-a[0]+1},(function(e,n){return a[0]+n-t}))};
//# sourceMappingURL=dlmm-sdk.cjs.production.min.js.map
