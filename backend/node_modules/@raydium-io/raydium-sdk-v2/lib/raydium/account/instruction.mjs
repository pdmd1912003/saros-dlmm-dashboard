var Gt=Object.defineProperty,Ht=Object.defineProperties;var jt=Object.getOwnPropertyDescriptors;var at=Object.getOwnPropertySymbols;var Zt=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable;var ut=(e,t,n)=>t in e?Gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ee=(e,t)=>{for(var n in t||(t={}))Zt.call(t,n)&&ut(e,n,t[n]);if(at)for(var n of at(t))zt.call(t,n)&&ut(e,n,t[n]);return e},te=(e,t)=>Ht(e,jt(t));import{PublicKey as wr,SystemProgram as xr}from"@solana/web3.js";import Tr from"bn.js";import{PublicKey as Mr}from"@solana/web3.js";import{get as ct,set as Yt}from"lodash";var Oe=class{constructor(t){this.logLevel=t.logLevel!==void 0?t.logLevel:0,this.name=t.name}set level(t){this.logLevel=t}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(t){return t<=this.logLevel}error(...t){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...t),this):this}logWithError(...t){let n=t.map(r=>typeof r=="object"?JSON.stringify(r):r).join(", ");throw new Error(n)}warning(...t){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...t),this):this}info(...t){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...t),this):this}debug(...t){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...t),this):this}},lt={},Jt={};function D(e){let t=ct(lt,e);if(!t){let n=ct(Jt,e);t=new Oe({name:e,logLevel:n}),Yt(lt,e,t)}return t}import{MINT_SIZE as Or,TOKEN_PROGRAM_ID as Kr,getTransferFeeConfig as Vr,unpackMint as Ur}from"@solana/spl-token";var Wr=D("Raydium_accountInfo_util");import Z from"bn.js";var ne=9e15,X=1e9,Ve="0123456789abcdef",we="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",xe="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ue={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ne,maxE:ne,crypto:!1},dt,H,w=!0,Pe="[DecimalError] ",J=Pe+"Invalid argument: ",gt=Pe+"Precision limit exceeded",ht=Pe+"crypto unavailable",bt="[object Decimal]",E=Math.floor,C=Math.pow,Xt=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Qt=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,$t=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,yt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,V=1e7,b=7,en=9007199254740991,tn=we.length-1,We=xe.length-1,m={toStringTag:bt};m.absoluteValue=m.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),g(e)};m.ceil=function(){return g(new this.constructor(this),this.e+1,2)};m.clampedTo=m.clamp=function(e,t){var n,r=this,i=r.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(J+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new i(r)};m.comparedTo=m.cmp=function(e){var t,n,r,i,o=this,s=o.d,a=(e=new o.constructor(e)).d,c=o.s,u=e.s;if(!s||!a)return!c||!u?NaN:c!==u?c:s===a?0:!s^c<0?1:-1;if(!s[0]||!a[0])return s[0]?c:a[0]?-u:0;if(c!==u)return c;if(o.e!==e.e)return o.e>e.e^c<0?1:-1;for(r=s.length,i=a.length,t=0,n=r<i?r:i;t<n;++t)if(s[t]!==a[t])return s[t]>a[t]^c<0?1:-1;return r===i?0:r>i^c<0?1:-1};m.cosine=m.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+b,r.rounding=1,n=nn(r,At(r,n)),r.precision=e,r.rounding=t,g(H==2||H==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};m.cubeRoot=m.cbrt=function(){var e,t,n,r,i,o,s,a,c,u,l=this,f=l.constructor;if(!l.isFinite()||l.isZero())return new f(l);for(w=!1,o=l.s*C(l.s*l,1/3),!o||Math.abs(o)==1/0?(n=I(l.d),e=l.e,(o=(e-n.length+1)%3)&&(n+=o==1||o==-2?"0":"00"),o=C(n,1/3),e=E((e+1)/3)-(e%3==(e<0?-1:2)),o==1/0?n="5e"+e:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new f(n),r.s=l.s):r=new f(o.toString()),s=(e=f.precision)+3;;)if(a=r,c=a.times(a).times(a),u=c.plus(l),r=S(u.plus(l).times(a),u.plus(c),s+2,1),I(a.d).slice(0,s)===(n=I(r.d)).slice(0,s))if(n=n.slice(s-3,s+1),n=="9999"||!i&&n=="4999"){if(!i&&(g(a,e+1,0),a.times(a).times(a).eq(l))){r=a;break}s+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(g(r,e+1,1),t=!r.times(r).times(r).eq(l));break}return w=!0,g(r,e,f.rounding,t)};m.decimalPlaces=m.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-E(this.e/b))*b,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};m.dividedBy=m.div=function(e){return S(this,new this.constructor(e))};m.dividedToIntegerBy=m.divToInt=function(e){var t=this,n=t.constructor;return g(S(t,new n(e),0,1,1),n.precision,n.rounding)};m.equals=m.eq=function(e){return this.cmp(e)===0};m.floor=function(){return g(new this.constructor(this),this.e+1,3)};m.greaterThan=m.gt=function(e){return this.cmp(e)>0};m.greaterThanOrEqualTo=m.gte=function(e){var t=this.cmp(e);return t==1||t===0};m.hyperbolicCosine=m.cosh=function(){var e,t,n,r,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;n=s.precision,r=s.rounding,s.precision=n+Math.max(o.e,o.sd())+4,s.rounding=1,i=o.d.length,i<32?(e=Math.ceil(i/3),t=(1/Se(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),o=re(s,1,o.times(t),new s(1),!0);for(var c,u=e,l=new s(8);u--;)c=o.times(o),o=a.minus(c.times(l.minus(c.times(l))));return g(o,s.precision=n,s.rounding=r,!0)};m.hyperbolicSine=m.sinh=function(){var e,t,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,n=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,r=i.d.length,r<3)i=re(o,2,i,i,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,i=i.times(1/Se(5,e)),i=re(o,2,i,i,!0);for(var s,a=new o(5),c=new o(16),u=new o(20);e--;)s=i.times(i),i=i.times(a.plus(s.times(c.times(s).plus(u))))}return o.precision=t,o.rounding=n,g(i,t,n,!0)};m.hyperbolicTangent=m.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,S(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};m.inverseCosine=m.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,o=n.rounding;return r!==-1?r===0?t.isNeg()?K(n,i,o):new n(0):new n(NaN):t.isZero()?K(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=K(n,i+4,o).times(.5),n.precision=i,n.rounding=o,e.minus(t))};m.inverseHyperbolicCosine=m.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,w=!1,n=n.times(n).minus(1).sqrt().plus(n),w=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};m.inverseHyperbolicSine=m.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,w=!1,n=n.times(n).plus(1).sqrt().plus(n),w=!0,r.precision=e,r.rounding=t,n.ln())};m.inverseHyperbolicTangent=m.atanh=function(){var e,t,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?g(new o(i),e,t,!0):(o.precision=n=r-i.e,i=S(i.plus(1),new o(1).minus(i),n+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)};m.inverseSine=m.asin=function(){var e,t,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),n=o.precision,r=o.rounding,t!==-1?t===0?(e=K(o,n+4,r).times(.5),e.s=i.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))};m.inverseTangent=m.atan=function(){var e,t,n,r,i,o,s,a,c,u=this,l=u.constructor,f=l.precision,p=l.rounding;if(u.isFinite()){if(u.isZero())return new l(u);if(u.abs().eq(1)&&f+4<=We)return s=K(l,f+4,p).times(.25),s.s=u.s,s}else{if(!u.s)return new l(NaN);if(f+4<=We)return s=K(l,f+4,p).times(.5),s.s=u.s,s}for(l.precision=a=f+10,l.rounding=1,n=Math.min(28,a/b+2|0),e=n;e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(w=!1,t=Math.ceil(a/b),r=1,c=u.times(u),s=new l(u),i=u;e!==-1;)if(i=i.times(c),o=s.minus(i.div(r+=2)),i=i.times(c),s=o.plus(i.div(r+=2)),s.d[t]!==void 0)for(e=t;s.d[e]===o.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),w=!0,g(s,l.precision=f,l.rounding=p,!0)};m.isFinite=function(){return!!this.d};m.isInteger=m.isInt=function(){return!!this.d&&E(this.e/b)>this.d.length-2};m.isNaN=function(){return!this.s};m.isNegative=m.isNeg=function(){return this.s<0};m.isPositive=m.isPos=function(){return this.s>0};m.isZero=function(){return!!this.d&&this.d[0]===0};m.lessThan=m.lt=function(e){return this.cmp(e)<0};m.lessThanOrEqualTo=m.lte=function(e){return this.cmp(e)<1};m.logarithm=m.log=function(e){var t,n,r,i,o,s,a,c,u=this,l=u.constructor,f=l.precision,p=l.rounding,d=5;if(e==null)e=new l(10),t=!0;else{if(e=new l(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new l(n&&!n[0]?-1/0:u.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(i=n[0];i%10===0;)i/=10;o=i!==1}if(w=!1,a=f+d,s=Y(u,a),r=t?Te(l,a+10):Y(e,a),c=S(s,r,a,1),ue(c.d,i=f,p))do if(a+=10,s=Y(u,a),r=t?Te(l,a+10):Y(e,a),c=S(s,r,a,1),!o){+I(c.d).slice(i+1,i+15)+1==1e14&&(c=g(c,f+1,0));break}while(ue(c.d,i+=10,p));return w=!0,g(c,f,p)};m.minus=m.sub=function(e){var t,n,r,i,o,s,a,c,u,l,f,p,d=this,P=d.constructor;if(e=new P(e),!d.d||!e.d)return!d.s||!e.s?e=new P(NaN):d.d?e.s=-e.s:e=new P(e.d||d.s!==e.s?d:NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(u=d.d,p=e.d,a=P.precision,c=P.rounding,!u[0]||!p[0]){if(p[0])e.s=-e.s;else if(u[0])e=new P(d);else return new P(c===3?-0:0);return w?g(e,a,c):e}if(n=E(e.e/b),l=E(d.e/b),u=u.slice(),o=l-n,o){for(f=o<0,f?(t=u,o=-o,s=p.length):(t=p,n=l,s=u.length),r=Math.max(Math.ceil(a/b),s)+2,o>r&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for(r=u.length,s=p.length,f=r<s,f&&(s=r),r=0;r<s;r++)if(u[r]!=p[r]){f=u[r]<p[r];break}o=0}for(f&&(t=u,u=p,p=t,e.s=-e.s),s=u.length,r=p.length-s;r>0;--r)u[s++]=0;for(r=p.length;r>o;){if(u[--r]<p[r]){for(i=r;i&&u[--i]===0;)u[i]=V-1;--u[i],u[r]+=V}u[r]-=p[r]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=Ae(u,n),w?g(e,a,c):e):new P(c===3?-0:0)};m.modulo=m.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?g(new r(n),r.precision,r.rounding):(w=!1,r.modulo==9?(t=S(n,e.abs(),0,3,1),t.s*=e.s):t=S(n,e,0,r.modulo,1),t=t.times(e),w=!0,n.minus(t))};m.naturalExponential=m.exp=function(){return qe(this)};m.naturalLogarithm=m.ln=function(){return Y(this)};m.negated=m.neg=function(){var e=new this.constructor(this);return e.s=-e.s,g(e)};m.plus=m.add=function(e){var t,n,r,i,o,s,a,c,u,l,f=this,p=f.constructor;if(e=new p(e),!f.d||!e.d)return!f.s||!e.s?e=new p(NaN):f.d||(e=new p(e.d||f.s===e.s?f:NaN)),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(u=f.d,l=e.d,a=p.precision,c=p.rounding,!u[0]||!l[0])return l[0]||(e=new p(f)),w?g(e,a,c):e;if(o=E(f.e/b),r=E(e.e/b),u=u.slice(),i=o-r,i){for(i<0?(n=u,i=-i,s=l.length):(n=l,r=o,s=u.length),o=Math.ceil(a/b),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=u.length,i=l.length,s-i<0&&(i=s,n=l,l=u,u=n),t=0;i;)t=(u[--i]=u[i]+l[i]+t)/V|0,u[i]%=V;for(t&&(u.unshift(t),++r),s=u.length;u[--s]==0;)u.pop();return e.d=u,e.e=Ae(u,r),w?g(e,a,c):e};m.precision=m.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(J+e);return n.d?(t=wt(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};m.round=function(){var e=this,t=e.constructor;return g(new t(e),e.e+1,t.rounding)};m.sine=m.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+b,r.rounding=1,n=on(r,At(r,n)),r.precision=e,r.rounding=t,g(H>2?n.neg():n,e,t,!0)):new r(NaN)};m.squareRoot=m.sqrt=function(){var e,t,n,r,i,o,s=this,a=s.d,c=s.e,u=s.s,l=s.constructor;if(u!==1||!a||!a[0])return new l(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);for(w=!1,u=Math.sqrt(+s),u==0||u==1/0?(t=I(a),(t.length+c)%2==0&&(t+="0"),u=Math.sqrt(t),c=E((c+1)/2)-(c<0||c%2),u==1/0?t="5e"+c:(t=u.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),r=new l(t)):r=new l(u.toString()),n=(c=l.precision)+3;;)if(o=r,r=o.plus(S(s,o,n+2,1)).times(.5),I(o.d).slice(0,n)===(t=I(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!i&&t=="4999"){if(!i&&(g(o,c+1,0),o.times(o).eq(s))){r=o;break}n+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(g(r,c+1,1),e=!r.times(r).eq(s));break}return w=!0,g(r,c,l.rounding,e)};m.tangent=m.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=S(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,g(H==2||H==4?n.neg():n,e,t,!0)):new r(NaN)};m.times=m.mul=function(e){var t,n,r,i,o,s,a,c,u,l=this,f=l.constructor,p=l.d,d=(e=new f(e)).d;if(e.s*=l.s,!p||!p[0]||!d||!d[0])return new f(!e.s||p&&!p[0]&&!d||d&&!d[0]&&!p?NaN:!p||!d?e.s/0:e.s*0);for(n=E(l.e/b)+E(e.e/b),c=p.length,u=d.length,c<u&&(o=p,p=d,d=o,s=c,c=u,u=s),o=[],s=c+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)a=o[i]+d[r]*p[i-r-1]+t,o[i--]=a%V|0,t=a/V|0;o[i]=(o[i]+t)%V|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=Ae(o,n),w?g(e,f.precision,f.rounding):e};m.toBinary=function(e,t){return He(this,2,e,t)};m.toDecimalPlaces=m.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(v(e,0,X),t===void 0?t=r.rounding:v(t,0,8),g(n,e+n.e+1,t))};m.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=q(r,!0):(v(e,0,X),t===void 0?t=i.rounding:v(t,0,8),r=g(new i(r),e+1,t),n=q(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};m.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?n=q(i):(v(e,0,X),t===void 0?t=o.rounding:v(t,0,8),r=g(new o(i),e+i.e+1,t),n=q(r,!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};m.toFraction=function(e){var t,n,r,i,o,s,a,c,u,l,f,p,d=this,P=d.d,y=d.constructor;if(!P)return new y(d);if(u=n=new y(1),r=c=new y(0),t=new y(r),o=t.e=wt(P)-d.e-1,s=o%b,t.d[0]=C(10,s<0?b+s:s),e==null)e=o>0?t:u;else{if(a=new y(e),!a.isInt()||a.lt(u))throw Error(J+a);e=a.gt(t)?o>0?t:u:a}for(w=!1,a=new y(I(P)),l=y.precision,y.precision=o=P.length*b*2;f=S(a,t,0,1,1),i=n.plus(f.times(r)),i.cmp(e)!=1;)n=r,r=i,i=u,u=c.plus(f.times(i)),c=i,i=t,t=a.minus(f.times(i)),a=i;return i=S(e.minus(n),r,0,1,1),c=c.plus(i.times(u)),n=n.plus(i.times(r)),c.s=u.s=d.s,p=S(u,r,o,1).minus(d).abs().cmp(S(c,n,o,1).minus(d).abs())<1?[u,r]:[c,n],y.precision=l,w=!0,p};m.toHexadecimal=m.toHex=function(e,t){return He(this,16,e,t)};m.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:v(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(w=!1,n=S(n,e,0,t,1).times(e),w=!0,g(n)):(e.s=n.s,n=e),n};m.toNumber=function(){return+this};m.toOctal=function(e,t){return He(this,8,e,t)};m.toPower=m.pow=function(e){var t,n,r,i,o,s,a=this,c=a.constructor,u=+(e=new c(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new c(C(+a,u));if(a=new c(a),a.eq(1))return a;if(r=c.precision,o=c.rounding,e.eq(1))return g(a,r,o);if(t=E(e.e/b),t>=e.d.length-1&&(n=u<0?-u:u)<=en)return i=xt(c,a,n,r),e.s<0?new c(1).div(i):g(i,r,o);if(s=a.s,s<0){if(t<e.d.length-1)return new c(NaN);if((e.d[t]&1)==0&&(s=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=s,a}return n=C(+a,u),t=n==0||!isFinite(n)?E(u*(Math.log("0."+I(a.d))/Math.LN10+a.e+1)):new c(n+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?s/0:0):(w=!1,c.rounding=a.s=1,n=Math.min(12,(t+"").length),i=qe(e.times(Y(a,r+n)),r),i.d&&(i=g(i,r+5,1),ue(i.d,r,o)&&(t=r+10,i=g(qe(e.times(Y(a,t+n)),t),t+5,1),+I(i.d).slice(r+1,r+15)+1==1e14&&(i=g(i,r+1,0)))),i.s=s,w=!0,c.rounding=o,g(i,r,o))};m.toPrecision=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=q(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(v(e,1,X),t===void 0?t=i.rounding:v(t,0,8),r=g(new i(r),e,t),n=q(r,e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};m.toSignificantDigits=m.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(v(e,1,X),t===void 0?t=r.rounding:v(t,0,8)),g(new r(n),e,t)};m.toString=function(){var e=this,t=e.constructor,n=q(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};m.truncated=m.trunc=function(){return g(new this.constructor(this),this.e+1,1)};m.valueOf=m.toJSON=function(){var e=this,t=e.constructor,n=q(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function I(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=b-r.length,n&&(o+=z(n)),o+=r;s=e[t],r=s+"",n=b-r.length,n&&(o+=z(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}function v(e,t,n){if(e!==~~e||e<t||e>n)throw Error(J+e)}function ue(e,t,n,r){var i,o,s,a;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=b,i=0):(i=Math.ceil((t+1)/b),t%=b),o=C(10,b-t),a=e[i]%o|0,r==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),s=n<4&&a==99999||n>3&&a==49999||a==5e4||a==0):s=(n<4&&a+1==o||n>3&&a+1==o/2)&&(e[i+1]/o/100|0)==C(10,t-2)-1||(a==o/2||a==0)&&(e[i+1]/o/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),s=(r||n<4)&&a==9999||!r&&n>3&&a==4999):s=((r||n<4)&&a+1==o||!r&&n>3&&a+1==o/2)&&(e[i+1]/o/1e3|0)==C(10,t-3)-1,s}function ye(e,t,n){for(var r,i=[0],o,s=0,a=e.length;s<a;){for(o=i.length;o--;)i[o]*=t;for(i[0]+=Ve.indexOf(e.charAt(s++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function nn(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),i=(1/Se(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=re(e,1,t.times(i),new e(1));for(var o=n;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,t}var S=function(){function e(r,i,o){var s,a=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+a,r[c]=s%o|0,a=s/o|0;return a&&r.unshift(a),r}function t(r,i,o,s){var a,c;if(o!=s)c=o>s?1:-1;else for(a=c=0;a<o;a++)if(r[a]!=i[a]){c=r[a]>i[a]?1:-1;break}return c}function n(r,i,o,s){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*s+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s,a,c){var u,l,f,p,d,P,y,M,N,F,A,R,de,G,De,ge,ae,ve,O,he,be=r.constructor,Fe=r.s==i.s?1:-1,_=r.d,B=i.d;if(!_||!_[0]||!B||!B[0])return new be(!r.s||!i.s||(_?B&&_[0]==B[0]:!B)?NaN:_&&_[0]==0||!B?Fe*0:Fe/0);for(c?(d=1,l=r.e-i.e):(c=V,d=b,l=E(r.e/d)-E(i.e/d)),O=B.length,ae=_.length,N=new be(Fe),F=N.d=[],f=0;B[f]==(_[f]||0);f++);if(B[f]>(_[f]||0)&&l--,o==null?(G=o=be.precision,s=be.rounding):a?G=o+(r.e-i.e)+1:G=o,G<0)F.push(1),P=!0;else{if(G=G/d+2|0,f=0,O==1){for(p=0,B=B[0],G++;(f<ae||p)&&G--;f++)De=p*c+(_[f]||0),F[f]=De/B|0,p=De%B|0;P=p||f<ae}else{for(p=c/(B[0]+1)|0,p>1&&(B=e(B,p,c),_=e(_,p,c),O=B.length,ae=_.length),ge=O,A=_.slice(0,O),R=A.length;R<O;)A[R++]=0;he=B.slice(),he.unshift(0),ve=B[0],B[1]>=c/2&&++ve;do p=0,u=t(B,A,O,R),u<0?(de=A[0],O!=R&&(de=de*c+(A[1]||0)),p=de/ve|0,p>1?(p>=c&&(p=c-1),y=e(B,p,c),M=y.length,R=A.length,u=t(y,A,M,R),u==1&&(p--,n(y,O<M?he:B,M,c))):(p==0&&(u=p=1),y=B.slice()),M=y.length,M<R&&y.unshift(0),n(A,y,R,c),u==-1&&(R=A.length,u=t(B,A,O,R),u<1&&(p++,n(A,O<R?he:B,R,c))),R=A.length):u===0&&(p++,A=[0]),F[f++]=p,u&&A[0]?A[R++]=_[ge]||0:(A=[_[ge]],R=1);while((ge++<ae||A[0]!==void 0)&&G--);P=A[0]!==void 0}F[0]||F.shift()}if(d==1)N.e=l,dt=P;else{for(f=1,p=F[0];p>=10;p/=10)f++;N.e=f+l*d-1,g(N,a?o+N.e+1:o,s,P)}return N}}();function g(e,t,n,r){var i,o,s,a,c,u,l,f,p,d=e.constructor;e:if(t!=null){if(f=e.d,!f)return e;for(i=1,a=f[0];a>=10;a/=10)i++;if(o=t-i,o<0)o+=b,s=t,l=f[p=0],c=l/C(10,i-s-1)%10|0;else if(p=Math.ceil((o+1)/b),a=f.length,p>=a)if(r){for(;a++<=p;)f.push(0);l=c=0,i=1,o%=b,s=o-b+1}else break e;else{for(l=a=f[p],i=1;a>=10;a/=10)i++;o%=b,s=o-b+i,c=s<0?0:l/C(10,i-s-1)%10|0}if(r=r||t<0||f[p+1]!==void 0||(s<0?l:l%C(10,i-s-1)),u=n<4?(c||r)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||r||n==6&&(o>0?s>0?l/C(10,i-s):0:f[p-1])%10&1||n==(e.s<0?8:7)),t<1||!f[0])return f.length=0,u?(t-=e.e+1,f[0]=C(10,(b-t%b)%b),e.e=-t||0):f[0]=e.e=0,e;if(o==0?(f.length=p,a=1,p--):(f.length=p+1,a=C(10,b-o),f[p]=s>0?(l/C(10,i-s)%C(10,s)|0)*a:0),u)for(;;)if(p==0){for(o=1,s=f[0];s>=10;s/=10)o++;for(s=f[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(e.e++,f[0]==V&&(f[0]=1));break}else{if(f[p]+=a,f[p]!=V)break;f[p--]=0,a=1}for(o=f.length;f[--o]===0;)f.pop()}return w&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function q(e,t,n){if(!e.isFinite())return Pt(e);var r,i=e.e,o=I(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+z(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+z(-i-1)+o,n&&(r=n-s)>0&&(o+=z(r))):i>=s?(o+=z(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+z(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=z(r))),o}function Ae(e,t){var n=e[0];for(t*=b;n>=10;n/=10)t++;return t}function Te(e,t,n){if(t>tn)throw w=!0,n&&(e.precision=n),Error(gt);return g(new e(we),t,1,!0)}function K(e,t,n){if(t>We)throw Error(gt);return g(new e(xe),t,n,!0)}function wt(e){var t=e.length-1,n=t*b+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function z(e){for(var t="";e--;)t+="0";return t}function xt(e,t,n,r){var i,o=new e(1),s=Math.ceil(r/b+4);for(w=!1;;){if(n%2&&(o=o.times(t),pt(o.d,s)&&(i=!0)),n=E(n/2),n===0){n=o.d.length-1,i&&o.d[n]===0&&++o.d[n];break}t=t.times(t),pt(t.d,s)}return w=!0,o}function ft(e){return e.d[e.d.length-1]&1}function Tt(e,t,n){for(var r,i=new e(t[0]),o=0;++o<t.length;)if(r=new e(t[o]),r.s)i[n](r)&&(i=r);else{i=r;break}return i}function qe(e,t){var n,r,i,o,s,a,c,u=0,l=0,f=0,p=e.constructor,d=p.rounding,P=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(w=!1,c=P):c=t,a=new p(.03125);e.e>-2;)e=e.times(a),f+=5;for(r=Math.log(C(2,f))/Math.LN10*2+5|0,c+=r,n=o=s=new p(1),p.precision=c;;){if(o=g(o.times(e),c,1),n=n.times(++l),a=s.plus(S(o,n,c,1)),I(a.d).slice(0,c)===I(s.d).slice(0,c)){for(i=f;i--;)s=g(s.times(s),c,1);if(t==null)if(u<3&&ue(s.d,c-r,d,u))p.precision=c+=10,n=o=a=new p(1),l=0,u++;else return g(s,p.precision=P,d,w=!0);else return p.precision=P,s}s=a}}function Y(e,t){var n,r,i,o,s,a,c,u,l,f,p,d=1,P=10,y=e,M=y.d,N=y.constructor,F=N.rounding,A=N.precision;if(y.s<0||!M||!M[0]||!y.e&&M[0]==1&&M.length==1)return new N(M&&!M[0]?-1/0:y.s!=1?NaN:M?0:y);if(t==null?(w=!1,l=A):l=t,N.precision=l+=P,n=I(M),r=n.charAt(0),Math.abs(o=y.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=I(y.d),r=n.charAt(0),d++;o=y.e,r>1?(y=new N("0."+n),o++):y=new N(r+"."+n.slice(1))}else return u=Te(N,l+2,A).times(o+""),y=Y(new N(r+"."+n.slice(1)),l-P).plus(u),N.precision=A,t==null?g(y,A,F,w=!0):y;for(f=y,c=s=y=S(y.minus(1),y.plus(1),l,1),p=g(y.times(y),l,1),i=3;;){if(s=g(s.times(p),l,1),u=c.plus(S(s,new N(i),l,1)),I(u.d).slice(0,l)===I(c.d).slice(0,l))if(c=c.times(2),o!==0&&(c=c.plus(Te(N,l+2,A).times(o+""))),c=S(c,new N(d),l,1),t==null)if(ue(c.d,l-P,F,a))N.precision=l+=P,u=s=y=S(f.minus(1),f.plus(1),l,1),p=g(y.times(y),l,1),i=a=1;else return g(c,N.precision=A,F,w=!0);else return N.precision=A,c;c=u,i+=2}}function Pt(e){return String(e.s*e.s/0)}function Ge(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(r,i),t){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%b,n<0&&(r+=b),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=b;r<i;)e.d.push(+t.slice(r,r+=b));t=t.slice(r),r=b-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),w&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function rn(e,t){var n,r,i,o,s,a,c,u,l;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),yt.test(t))return Ge(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Qt.test(t))n=16,t=t.toLowerCase();else if(Xt.test(t))n=2;else if($t.test(t))n=8;else throw Error(J+t);for(o=t.search(/p/i),o>0?(c=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),o=t.indexOf("."),s=o>=0,r=e.constructor,s&&(t=t.replace(".",""),a=t.length,o=a-o,i=xt(r,new r(n),o,o*2)),u=ye(t,n,V),l=u.length-1,o=l;u[o]===0;--o)u.pop();return o<0?new r(e.s*0):(e.e=Ae(u,l),e.d=u,w=!1,s&&(e=S(e,i,a*4)),c&&(e=e.times(Math.abs(c)<54?C(2,c):Be.pow(2,c))),w=!0,e)}function on(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:re(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/Se(5,n)),t=re(e,2,t,t);for(var i,o=new e(5),s=new e(16),a=new e(20);n--;)i=t.times(t),t=t.times(o.plus(i.times(s.times(i).minus(a))));return t}function re(e,t,n,r,i){var o,s,a,c,u=1,l=e.precision,f=Math.ceil(l/b);for(w=!1,c=n.times(n),a=new e(r);;){if(s=S(a.times(c),new e(t++*t++),l,1),a=i?r.plus(s):r.minus(s),r=S(s.times(c),new e(t++*t++),l,1),s=a.plus(r),s.d[f]!==void 0){for(o=f;s.d[o]===a.d[o]&&o--;);if(o==-1)break}o=a,a=r,r=s,s=o,u++}return w=!0,s.d.length=f+1,s}function Se(e,t){for(var n=e;--t;)n*=e;return n}function At(e,t){var n,r=t.s<0,i=K(e,e.precision,1),o=i.times(.5);if(t=t.abs(),t.lte(o))return H=r?4:1,t;if(n=t.divToInt(i),n.isZero())H=r?3:2;else{if(t=t.minus(n.times(i)),t.lte(o))return H=ft(n)?r?2:3:r?4:1,t;H=ft(n)?r?1:4:r?3:2}return t.minus(i).abs()}function He(e,t,n,r){var i,o,s,a,c,u,l,f,p,d=e.constructor,P=n!==void 0;if(P?(v(n,1,X),r===void 0?r=d.rounding:v(r,0,8)):(n=d.precision,r=d.rounding),!e.isFinite())l=Pt(e);else{for(l=q(e),s=l.indexOf("."),P?(i=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):i=t,s>=0&&(l=l.replace(".",""),p=new d(1),p.e=l.length-s,p.d=ye(q(p),10,i),p.e=p.d.length),f=ye(l,10,i),o=c=f.length;f[--c]==0;)f.pop();if(!f[0])l=P?"0p+0":"0";else{if(s<0?o--:(e=new d(e),e.d=f,e.e=o,e=S(e,p,n,r,0,i),f=e.d,o=e.e,u=dt),s=f[n],a=i/2,u=u||f[n+1]!==void 0,u=r<4?(s!==void 0||u)&&(r===0||r===(e.s<0?3:2)):s>a||s===a&&(r===4||u||r===6&&f[n-1]&1||r===(e.s<0?8:7)),f.length=n,u)for(;++f[--n]>i-1;)f[n]=0,n||(++o,f.unshift(1));for(c=f.length;!f[c-1];--c);for(s=0,l="";s<c;s++)l+=Ve.charAt(f[s]);if(P){if(c>1)if(t==16||t==8){for(s=t==16?4:3,--c;c%s;c++)l+="0";for(f=ye(l,i,t),c=f.length;!f[c-1];--c);for(s=1,l="1.";s<c;s++)l+=Ve.charAt(f[s])}else l=l.charAt(0)+"."+l.slice(1);l=l+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)l="0"+l;l="0."+l}else if(++o>c)for(o-=c;o--;)l+="0";else o<c&&(l=l.slice(0,o)+"."+l.slice(o))}l=(t==16?"0x":t==2?"0b":t==8?"0o":"")+l}return e.s<0?"-"+l:l}function pt(e,t){if(e.length>t)return e.length=t,!0}function sn(e){return new this(e).abs()}function an(e){return new this(e).acos()}function un(e){return new this(e).acosh()}function cn(e,t){return new this(e).plus(t)}function ln(e){return new this(e).asin()}function fn(e){return new this(e).asinh()}function pn(e){return new this(e).atan()}function mn(e){return new this(e).atanh()}function dn(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,o=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=K(this,o,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?K(this,r,i):new this(0),n.s=e.s):!e.d||t.isZero()?(n=K(this,o,1).times(.5),n.s=e.s):t.s<0?(this.precision=o,this.rounding=1,n=this.atan(S(e,t,o,1)),t=K(this,o,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(S(e,t,o,1)),n}function gn(e){return new this(e).cbrt()}function hn(e){return g(e=new this(e),e.e+1,2)}function bn(e,t,n){return new this(e).clamp(t,n)}function yn(e){if(!e||typeof e!="object")throw Error(Pe+"Object expected");var t,n,r,i=e.defaults===!0,o=["precision",1,X,"rounding",0,8,"toExpNeg",-ne,0,"toExpPos",0,ne,"maxE",0,ne,"minE",-ne,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(n=o[t],i&&(this[n]=Ue[n]),(r=e[n])!==void 0)if(E(r)===r&&r>=o[t+1]&&r<=o[t+2])this[n]=r;else throw Error(J+n+": "+r);if(n="crypto",i&&(this[n]=Ue[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(ht);else this[n]=!1;else throw Error(J+n+": "+r);return this}function wn(e){return new this(e).cos()}function xn(e){return new this(e).cosh()}function St(e){var t,n,r;function i(o){var s,a,c,u=this;if(!(u instanceof i))return new i(o);if(u.constructor=i,mt(o)){u.s=o.s,w?!o.d||o.e>i.maxE?(u.e=NaN,u.d=null):o.e<i.minE?(u.e=0,u.d=[0]):(u.e=o.e,u.d=o.d.slice()):(u.e=o.e,u.d=o.d?o.d.slice():o.d);return}if(c=typeof o,c==="number"){if(o===0){u.s=1/o<0?-1:1,u.e=0,u.d=[0];return}if(o<0?(o=-o,u.s=-1):u.s=1,o===~~o&&o<1e7){for(s=0,a=o;a>=10;a/=10)s++;w?s>i.maxE?(u.e=NaN,u.d=null):s<i.minE?(u.e=0,u.d=[0]):(u.e=s,u.d=[o]):(u.e=s,u.d=[o]);return}else if(o*0!==0){o||(u.s=NaN),u.e=NaN,u.d=null;return}return Ge(u,o.toString())}else if(c!=="string")throw Error(J+o);return(a=o.charCodeAt(0))===45?(o=o.slice(1),u.s=-1):(a===43&&(o=o.slice(1)),u.s=1),yt.test(o)?Ge(u,o):rn(u,o)}if(i.prototype=m,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=yn,i.clone=St,i.isDecimal=mt,i.abs=sn,i.acos=an,i.acosh=un,i.add=cn,i.asin=ln,i.asinh=fn,i.atan=pn,i.atanh=mn,i.atan2=dn,i.cbrt=gn,i.ceil=hn,i.clamp=bn,i.cos=wn,i.cosh=xn,i.div=Tn,i.exp=Pn,i.floor=An,i.hypot=Sn,i.ln=Bn,i.log=Ln,i.log10=Nn,i.log2=kn,i.max=Cn,i.min=In,i.mod=Rn,i.mul=_n,i.pow=En,i.random=Mn,i.round=Dn,i.sign=vn,i.sin=Fn,i.sinh=On,i.sqrt=Kn,i.sub=Vn,i.sum=Un,i.tan=Wn,i.tanh=qn,i.trunc=Gn,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Tn(e,t){return new this(e).div(t)}function Pn(e){return new this(e).exp()}function An(e){return g(e=new this(e),e.e+1,3)}function Sn(){var e,t,n=new this(0);for(w=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return w=!0,new this(1/0);n=t}return w=!0,n.sqrt()}function mt(e){return e instanceof Be||e&&e.toStringTag===bt||!1}function Bn(e){return new this(e).ln()}function Ln(e,t){return new this(e).log(t)}function kn(e){return new this(e).log(2)}function Nn(e){return new this(e).log(10)}function Cn(){return Tt(this,arguments,"lt")}function In(){return Tt(this,arguments,"gt")}function Rn(e,t){return new this(e).mod(t)}function _n(e,t){return new this(e).mul(t)}function En(e,t){return new this(e).pow(t)}function Mn(e){var t,n,r,i,o=0,s=new this(1),a=[];if(e===void 0?e=this.precision:v(e,1,X),r=Math.ceil(e/b),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));o<r;)i=t[o],i>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);o<r;)i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((t[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,o):(a.push(i%1e7),o+=4);o=r/4}else throw Error(ht);else for(;o<r;)a[o++]=Math.random()*1e7|0;for(r=a[--o],e%=b,r&&e&&(i=C(10,b-e),a[o]=(r/i|0)*i);a[o]===0;o--)a.pop();if(o<0)n=0,a=[0];else{for(n=-1;a[0]===0;n-=b)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<b&&(n-=b-r)}return s.e=n,s.d=a,s}function Dn(e){return g(e=new this(e),e.e+1,this.rounding)}function vn(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Fn(e){return new this(e).sin()}function On(e){return new this(e).sinh()}function Kn(e){return new this(e).sqrt()}function Vn(e,t){return new this(e).sub(t)}function Un(){var e=0,t=arguments,n=new this(t[e]);for(w=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return w=!0,g(n,this.precision,this.rounding)}function Wn(e){return new this(e).tan()}function qn(e){return new this(e).tanh()}function Gn(e){return g(e=new this(e),e.e+1,1)}m[Symbol.for("nodejs.util.inspect.custom")]=m.toString;m[Symbol.toStringTag]="Decimal";var Be=m.constructor=St(Ue);we=new Be(we);xe=new Be(xe);import Qn from"big.js";import ui from"bn.js";import Hn from"toformat";var jn=Hn,ce=jn;import ke from"big.js";import zn from"bn.js";import Yn from"decimal.js-light";import le from"bn.js";var Bt=9007199254740991;function U(e){let t=D("Raydium_parseBigNumberish");if(e instanceof le)return e;if(typeof e=="string"){if(e.match(/^-?[0-9]+$/))return new le(e);t.logWithError(`invalid BigNumberish string: ${e}`)}return typeof e=="number"?(e%1&&t.logWithError(`BigNumberish number underflow: ${e}`),(e>=Bt||e<=-Bt)&&t.logWithError(`BigNumberish number overflow: ${e}`),new le(String(e))):typeof e=="bigint"?new le(e.toString()):(t.error(`invalid BigNumberish value: ${e}`),new le(0))}var Le=D("module/fraction"),je=ce(ke),fe=ce(Yn),Jn={[0]:fe.ROUND_DOWN,[1]:fe.ROUND_HALF_UP,[2]:fe.ROUND_UP},Xn={[0]:ke.roundDown,[1]:ke.roundHalfUp,[2]:ke.roundUp},L=class{constructor(t,n=new zn(1)){this.numerator=U(t),this.denominator=U(n)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new L(this.denominator,this.numerator)}add(t){let n=t instanceof L?t:new L(U(t));return this.denominator.eq(n.denominator)?new L(this.numerator.add(n.numerator),this.denominator):new L(this.numerator.mul(n.denominator).add(n.numerator.mul(this.denominator)),this.denominator.mul(n.denominator))}sub(t){let n=t instanceof L?t:new L(U(t));return this.denominator.eq(n.denominator)?new L(this.numerator.sub(n.numerator),this.denominator):new L(this.numerator.mul(n.denominator).sub(n.numerator.mul(this.denominator)),this.denominator.mul(n.denominator))}mul(t){let n=t instanceof L?t:new L(U(t));return new L(this.numerator.mul(n.numerator),this.denominator.mul(n.denominator))}div(t){let n=t instanceof L?t:new L(U(t));return new L(this.numerator.mul(n.denominator),this.denominator.mul(n.numerator))}toSignificant(t,n={groupSeparator:""},r=1){Number.isInteger(t)||Le.logWithError(`${t} is not an integer.`),t<=0&&Le.logWithError(`${t} is not positive.`),fe.set({precision:t+1,rounding:Jn[r]});let i=new fe(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(t);return i.toFormat(i.decimalPlaces(),n)}toFixed(t,n={groupSeparator:""},r=1){return Number.isInteger(t)||Le.logWithError(`${t} is not an integer.`),t<0&&Le.logWithError(`${t} is negative.`),je.DP=t,je.RM=Xn[r]||1,new je(this.numerator.toString()).div(this.denominator.toString()).toFormat(t,n)}isZero(){return this.numerator.isZero()}};var bi=D("Raydium_amount"),yi=ce(Qn);import{PublicKey as er}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Lt}from"@solana/spl-token";var kt={chainId:101,address:er.default.toBase58(),programId:Lt.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},j={chainId:101,address:"So11111111111111111111111111111111111111112",programId:Lt.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};import{PublicKey as ze}from"@solana/web3.js";import{PublicKey as k,SystemProgram as Nt,SYSVAR_RENT_PUBKEY as tr}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as nr}from"@solana/spl-token";function Ze({pubkey:e,isSigner:t=!1,isWritable:n=!0}){return{pubkey:e,isWritable:n,isSigner:t}}var Li=[Ze({pubkey:nr,isWritable:!1}),Ze({pubkey:Nt.programId,isWritable:!1}),Ze({pubkey:tr,isWritable:!1})];function Ct({publicKey:e,transformSol:t}){let n=It(e.toString());if(n instanceof k)return t&&n.equals(pe)?Ke:n;if(t&&n.toString()===pe.toBase58())return Ke;if(typeof n=="string"){if(n===k.default.toBase58())return k.default;try{return new k(n)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function It(e){try{return new k(e)}catch{return e}}var ki=new k("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Ni=new k("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Ci=new k("SysvarRent111111111111111111111111111111111"),Ii=new k("SysvarC1ock11111111111111111111111111111111"),Ri=new k("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),_i=new k("Sysvar1nstructions1111111111111111111111111"),Ei=Nt.programId,Mi=new k("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),Di=new k("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),vi=new k("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),Fi=new k("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),Oi=new k("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),Ki=new k("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),Vi=new k("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),Ui=new k("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),Wi=new k("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),qi=new k("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),Gi=new k("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),Ke=new k("So11111111111111111111111111111111111111112"),pe=k.default;var Ye=class{constructor({mint:t,decimals:n,symbol:r,name:i,skipMint:o=!1,isToken2022:s=!1}){if(t===pe.toBase58()||t instanceof ze&&pe.equals(t)){this.decimals=j.decimals,this.symbol=j.symbol,this.name=j.name,this.mint=new ze(j.address),this.isToken2022=!1;return}this.decimals=n,this.symbol=r||t.toString().substring(0,6),this.name=i||t.toString().substring(0,6),this.mint=o?ze.default:Ct({publicKey:t}),this.isToken2022=s}equals(t){return this===t?!0:this.mint.equals(t.mint)}},ie=Ye;ie.WSOL=new Ye(te(ee({},j),{mint:j.address}));var Je=class{constructor({decimals:t,symbol:n="UNKNOWN",name:r="UNKNOWN"}){this.decimals=t,this.symbol=n,this.name=r}equals(t){return this===t}},Ne=Je;Ne.SOL=new Je(kt);import rr from"bn.js";var no=new L(new rr(100));var uo=D("Raydium_price");var ir=new Z(0),Oo=new Z(1),Ko=new Z(2),Vo=new Z(3),Uo=new Z(5),$n=new Z(10),Wo=new Z(100),qo=new Z(1e3),Go=new Z(1e4);import{PublicKey as hs}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as ys}from"@solana/spl-token";import{ComputeBudgetProgram as Qo,Keypair as ts,PublicKey as ns,Transaction as is,TransactionMessage as ss,VersionedTransaction as as}from"@solana/web3.js";var oe={CreateAccount:"CreateAccount",InitAccount:"InitAccount",CreateATA:"CreateATA",CloseAccount:"CloseAccount",TransferAmount:"TransferAmount",InitMint:"InitMint",MintTo:"MintTo",InitMarket:"InitMarket",Util1216OwnerClaim:"Util1216OwnerClaim",SetComputeUnitPrice:"SetComputeUnitPrice",SetComputeUnitLimit:"SetComputeUnitLimit",ClmmCreatePool:"ClmmCreatePool",ClmmOpenPosition:"ClmmOpenPosition",ClmmIncreasePosition:"ClmmIncreasePosition",ClmmDecreasePosition:"ClmmDecreasePosition",ClmmClosePosition:"ClmmClosePosition",ClmmSwapBaseIn:"ClmmSwapBaseIn",ClmmSwapBaseOut:"ClmmSwapBaseOut",ClmmInitReward:"ClmmInitReward",ClmmSetReward:"ClmmSetReward",ClmmCollectReward:"ClmmCollectReward",ClmmLockPosition:"ClmmLockPosition",ClmmHarvestLockPosition:"ClmmHarvestLockPosition",AmmV4Swap:"AmmV4Swap",AmmV4AddLiquidity:"AmmV4AddLiquidity",AmmV4RemoveLiquidity:"AmmV4RemoveLiquidity",AmmV4SimulatePoolInfo:"AmmV4SimulatePoolInfo",AmmV4SwapBaseIn:"AmmV4SwapBaseIn",AmmV4SwapBaseOut:"AmmV4SwapBaseOut",AmmV4CreatePool:"AmmV4CreatePool",AmmV4InitPool:"AmmV4InitPool",AmmV5AddLiquidity:"AmmV5AddLiquidity",AmmV5RemoveLiquidity:"AmmV5RemoveLiquidity",AmmV5SimulatePoolInfo:"AmmV5SimulatePoolInfo",AmmV5SwapBaseIn:"AmmV5SwapBaseIn",AmmV5SwapBaseOut:"AmmV5SwapBaseOut",RouteSwap:"RouteSwap",RouteSwap1:"RouteSwap1",RouteSwap2:"RouteSwap2",FarmV3Deposit:"FarmV3Deposit",FarmV3Withdraw:"FarmV3Withdraw",FarmV3CreateLedger:"FarmV3CreateLedger",FarmV4Withdraw:"FarmV4Withdraw",FarmV5Deposit:"FarmV5Deposit",FarmV5Withdraw:"FarmV5Withdraw",FarmV5CreateLedger:"FarmV5CreateLedger",FarmV6Deposit:"FarmV6Deposit",FarmV6Withdraw:"FarmV6Withdraw",FarmV6Create:"FarmV6Create",FarmV6Restart:"FarmV6Restart",FarmV6CreatorAddReward:"FarmV6CreatorAddReward",FarmV6CreatorWithdraw:"FarmV6CreatorWithdraw",CpmmCreatePool:"CpmmCreatePool",CpmmAddLiquidity:"CpmmAddLiquidity",CpmmWithdrawLiquidity:"CpmmWithdrawLiquidity",CpmmSwapBaseIn:"CpmmSwapBaseIn",CpmmSwapBaseOut:"CpmmSwapBaseOut",CpmmLockLp:"CpmmLockLp",CpmmCollectLockFee:"CpmmCollectLockFee",TransferTip:"TransferTip"};import{TOKEN_PROGRAM_ID as fs}from"@solana/spl-token";var ps=D("Raydium_txUtil");import{PublicKey as h}from"@solana/web3.js";var Ps=new h("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),As=new h("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),Ss=new h("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),Bs=new h("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),Ls=new h("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),ks=new h("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),Ns=new h("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),Cs=new h("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),Is=new h("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),Rs=new h("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),_s=new h("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),Es=new h("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Ms=new h("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),Ds=new h("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),vs=new h("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),Fs=new h("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),Os=new h("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),Ks=new h("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),Vs=new h("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),Us=new h("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),Ws=new h("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),qs=new h("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),Gs=new h("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),Hs=new h("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),js=new h("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),Zs=new h("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),zs=new h("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),Ys=new h("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),Js=new h("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),Xs=new h("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),Qs=new h("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX");var $s={OPEN_BOOK_PROGRAM:new h("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new h("Ray1111111111111111111111111111111111111111"),AMM_V4:new h("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new h("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new h("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new h("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new h("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new h("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new h("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new h("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new h("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new h("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:h.default,Router:new h("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new h("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new h("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new h("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new h("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new h("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new h("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new h("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new h("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new h("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new h("Ray1111111111111111111111111111111111111111")};import na from"bn.js";import{PublicKey as aa,AddressLookupTableAccount as ua}from"@solana/web3.js";import{PublicKey as Ba,sendAndConfirmTransaction as La,SystemProgram as Ca,Transaction as Ia,TransactionMessage as _a,VersionedTransaction as Ea}from"@solana/web3.js";import Da from"axios";import{PublicKey as Wa}from"@solana/web3.js";import Ga from"bn.js";import or from"bn.js";var Ya=new or(1e6);import{createCloseAccountInstruction as Pr,createInitializeAccountInstruction as Ar,createTransferInstruction as Sr,TOKEN_PROGRAM_ID as se}from"@solana/spl-token";import{Keypair as gr,PublicKey as hr}from"@solana/web3.js";import Kc from"bn.js";import{TOKEN_PROGRAM_ID as br}from"@solana/spl-token";function sr(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Xe(e,...t){if(!sr(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Qe(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Mt(e,t){Xe(e);let n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}var Ie=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),W=(e,t)=>e<<32-t|e>>>t;var yu=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ar(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function $e(e){return typeof e=="string"&&(e=ar(e)),Xe(e),e}var Ce=class{clone(){return this._cloneInto()}},wu={}.toString;function Dt(e){let t=r=>e().update($e(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ur(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,a,r)}var vt=(e,t,n)=>e&t^~e&n,Ft=(e,t,n)=>e&t^e&n^t&n,Re=class extends Ce{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ie(this.buffer)}update(t){Qe(this);let{view:n,buffer:r,blockLen:i}=this;t=$e(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=Ie(t);for(;i<=o-s;s+=i)this.process(c,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Qe(this),Mt(t,this),this.finished=!0;let{buffer:n,view:r,blockLen:i,isLE:o}=this,{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let f=s;f<i;f++)n[f]=0;ur(r,i-8,BigInt(this.length*8),o),this.process(r,0);let a=Ie(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],o)}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%n&&t.buffer.set(r),t}};var cr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Q=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$=new Uint32Array(64),et=class extends Re{constructor(){super(64,32,8,!1),this.A=Q[0]|0,this.B=Q[1]|0,this.C=Q[2]|0,this.D=Q[3]|0,this.E=Q[4]|0,this.F=Q[5]|0,this.G=Q[6]|0,this.H=Q[7]|0}get(){let{A:t,B:n,C:r,D:i,E:o,F:s,G:a,H:c}=this;return[t,n,r,i,o,s,a,c]}set(t,n,r,i,o,s,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)$[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){let p=$[f-15],d=$[f-2],P=W(p,7)^W(p,18)^p>>>3,y=W(d,17)^W(d,19)^d>>>10;$[f]=y+$[f-7]+P+$[f-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){let p=W(a,6)^W(a,11)^W(a,25),d=l+p+vt(a,c,u)+cr[f]+$[f]|0,y=(W(r,2)^W(r,13)^W(r,22))+Ft(r,i,o)|0;l=u,u=c,c=a,a=s+d|0,s=o,o=i,i=r,r=d+y|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,o,s,a,c,u,l)}roundClean(){$.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Ot=Dt(()=>new et);import{PublicKey as dr}from"@solana/web3.js";import Vt,{isBN as kc}from"bn.js";import{bits as Nu,BitStructure as Cu,blob as lr,Blob as Iu,cstr as Ru,f32 as _u,f32be as Eu,f64 as Mu,f64be as Du,greedy as vu,Layout as fr,ns64 as Fu,ns64be as Ou,nu64 as Ku,nu64be as Vu,offset as Uu,s16 as Wu,s16be as qu,s24 as Gu,s24be as Hu,s32 as ju,s32be as Zu,s40 as zu,s40be as Yu,s48 as Ju,s48be as Xu,s8 as Qu,seq as $u,struct as ec,Structure as pr,u16 as tc,u16be as nc,u24 as rc,u24be as ic,u32 as oc,u32be as sc,u40 as ac,u40be as uc,u48 as cc,u48be as lc,u8 as fc,UInt as mr,union as pc,Union as mc,unionLayoutDiscriminator as dc,utf8 as gc}from"@solana/buffer-layout";var tt=fr,Kt=pr;var nt=mr;var rt=lr;var it=class extends tt{constructor(n,r,i){super(n,i);this.blob=rt(n),this.signed=r}decode(n,r=0){let i=new Vt(this.blob.decode(n,r),10,"le");return this.signed?i.fromTwos(this.span*8).clone():i}encode(n,r,i=0){return typeof n=="number"&&(n=new Vt(n)),this.signed&&(n=n.toTwos(this.span*8)),this.blob.encode(n.toArrayLike(Buffer,"le",this.span),r,i)}};function Ut(e){return new nt(1,e)}function _e(e){return new nt(4,e)}function Ee(e){return new it(8,!1,e)}var ot=class extends tt{constructor(n,r,i,o){super(n.span,o);this.layout=n,this.decoder=r,this.encoder=i}decode(n,r){return this.decoder(this.layout.decode(n,r))}encode(n,r,i){return this.layout.encode(this.encoder(n),r,i)}getSpan(n,r){return this.layout.getSpan(n,r)}};function me(e){return new ot(rt(32),t=>new dr(t),t=>t.toBuffer(),e)}var st=class extends Kt{decode(t,n){return super.decode(t,n)}};function Wt(e,t,n){return new st(e,t,n)}var Me=Wt([me("mint"),me("owner"),Ee("amount"),_e("delegateOption"),me("delegate"),Ut("state"),_e("isNativeOption"),Ee("isNative"),Ee("delegatedAmount"),_e("closeAuthorityOption"),me("closeAuthority")]);var Gc=D("Raydium_Util");function qt({fromPublicKey:e,programId:t=br,assignSeed:n}){let r=n?btoa(n).slice(0,32):gr.generate().publicKey.toBase58().slice(0,32);return{publicKey:yr(e,r,t),seed:r}}function yr(e,t,n){let r=Buffer.concat([e.toBuffer(),Buffer.from(t),n.toBuffer()]),i=Ot(r);return new hr(i)}function Br(e){let{mint:t,tokenAccount:n,owner:r,programId:i=se}=e;return Ar(n,t,r,i)}function Lr(e){let{tokenAccount:t,payer:n,multiSigners:r=[],owner:i,programId:o=se}=e;return Pr(t,n,i,r,o)}async function ol(e){let{connection:t,amount:n,commitment:r,payer:i,owner:o,skipCloseAccount:s}=e,a=await t.getMinimumBalanceForRentExemption(Me.span,r),c=U(n).add(new Tr(a)),u=qt({fromPublicKey:i,programId:se});return{addresses:{newAccount:u.publicKey},signers:[],instructions:[xr.createAccountWithSeed({fromPubkey:i,basePubkey:i,seed:u.seed,newAccountPubkey:u.publicKey,lamports:c.toNumber(),space:Me.span,programId:se}),Br({mint:new wr(j.address),tokenAccount:u.publicKey,owner:o,programId:se})],instructionTypes:[oe.CreateAccount,oe.InitAccount],endInstructionTypes:s?[]:[oe.CloseAccount],endInstructions:s?[]:[Lr({tokenAccount:u.publicKey,payer:i,owner:o})]}}function sl({source:e,destination:t,owner:n,amount:r,multiSigners:i=[],tokenProgram:o=se}){return Sr(e,t,n,BigInt(String(r)),i,o)}export{Lr as closeAccountInstruction,ol as createWSolAccountInstructions,Br as initTokenAccountInstruction,sl as makeTransferInstruction};
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
//# sourceMappingURL=instruction.mjs.map