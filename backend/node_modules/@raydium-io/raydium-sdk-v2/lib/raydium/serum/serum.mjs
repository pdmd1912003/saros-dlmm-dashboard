import{PublicKey as E}from"@solana/web3.js";import{get as l,set as U}from"lodash";var x=class{constructor(t){this.logLevel=t.logLevel!==void 0?t.logLevel:0,this.name=t.name}set level(t){this.logLevel=t}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(t){return t<=this.logLevel}error(...t){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...t),this):this}logWithError(...t){let n=t.map(r=>typeof r=="object"?JSON.stringify(r):r).join(", ");throw new Error(n)}warning(...t){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...t),this):this}info(...t){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...t),this):this}debug(...t){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...t),this):this}},_={},B={};function T(s){let t=l(_,s);if(!t){let n=l(B,s);t=new x({name:s,logLevel:n}),U(_,s,t)}return t}import{PublicKey as e}from"@solana/web3.js";var H=new e("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),q=new e("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),F=new e("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),W=new e("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),Y=new e("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),J=new e("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),f=new e("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),z=new e("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),j=new e("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),Q=new e("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),X=new e("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),Z=new e("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),$=new e("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),ee=new e("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),te=new e("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),ne=new e("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),re=new e("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),oe=new e("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),se=new e("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),ue=new e("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),ae=new e("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),ie=new e("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),ce=new e("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),ye=new e("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),pe=new e("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),Pe=new e("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),de=new e("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),xe=new e("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),fe=new e("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),Le=new e("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),ge=new e("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX");var be={OPEN_BOOK_PROGRAM:new e("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new e("Ray1111111111111111111111111111111111111111"),AMM_V4:new e("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new e("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new e("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new e("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new e("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new e("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new e("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new e("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new e("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new e("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:e.default,Router:new e("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new e("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new e("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new e("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new e("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new e("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new e("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new e("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new e("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new e("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new e("Ray1111111111111111111111111111111111111111")};var R={[f.toBase58()]:3},A={3:f};import{PublicKey as G}from"@solana/web3.js";import M,{isBN as wt}from"bn.js";import{bits as Re,BitStructure as Ae,blob as C,Blob as we,cstr as Me,f32 as he,f32be as Se,f64 as Ee,f64be as De,greedy as Ue,Layout as O,ns64 as Be,ns64be as Ce,nu64 as Oe,nu64be as Ve,offset as Ge,s16 as Ne,s16be as ve,s24 as ke,s24be as Ie,s32 as Ke,s32be as He,s40 as qe,s40be as Fe,s48 as We,s48be as Ye,s8 as Je,seq as ze,struct as je,Structure as V,u16 as Qe,u16be as Xe,u24 as Ze,u24be as $e,u32 as et,u32be as tt,u40 as nt,u40be as rt,u48 as ot,u48be as st,u8 as ut,UInt as at,union as it,Union as ct,unionLayoutDiscriminator as yt,utf8 as pt}from"@solana/buffer-layout";var L=O,w=V;var i=C;var g=class extends L{constructor(n,r,o){super(n,o);this.blob=i(n),this.signed=r}decode(n,r=0){let o=new M(this.blob.decode(n,r),10,"le");return this.signed?o.fromTwos(this.span*8).clone():o}encode(n,r,o=0){return typeof n=="number"&&(n=new M(n)),this.signed&&(n=n.toTwos(this.span*8)),this.blob.encode(n.toArrayLike(Buffer,"le",this.span),r,o)}};function u(s){return new g(8,!1,s)}var b=class extends L{constructor(n,r,o,p){super(n.span,p);this.layout=n,this.decoder=r,this.encoder=o}decode(n,r){return this.decoder(this.layout.decode(n,r))}encode(n,r,o){return this.layout.encode(this.encoder(n),r,o)}getSpan(n,r){return this.layout.getSpan(n,r)}};function a(s){return new b(i(32),t=>new G(t),t=>t.toBuffer(),s)}var m=class extends w{decode(t,n){return super.decode(t,n)}};function h(s,t,n){return new m(s,t,n)}var N=h([i(5),i(8),a("ownAddress"),u("vaultSignerNonce"),a("baseMint"),a("quoteMint"),a("baseVault"),u("baseDepositsTotal"),u("baseFeesAccrued"),a("quoteVault"),u("quoteDepositsTotal"),u("quoteFeesAccrued"),u("quoteDustThreshold"),a("requestQueue"),a("eventQueue"),a("bids"),a("asks"),u("baseLotSize"),u("quoteLotSize"),u("feeRateBps"),u("referrerRebatesAccrued"),i(7)]),S={3:N};var d=T("Serum"),D=class{static getProgramId(t){let n=A[t];return n||d.logWithError("invalid version","version",t),n}static getVersion(t){let n=t.toBase58(),r=R[n];return r||d.logWithError("invalid program id","programId",n),r}static getStateLayout(t){let n=S[t];return n||d.logWithError(!!n,"invalid version","version",t),n}static getLayouts(t){return{state:this.getStateLayout(t)}}static getAssociatedAuthority({programId:t,marketId:n}){let r=[n.toBuffer()],o=0,p;for(;o<100;){try{let P=r.concat(Buffer.from([o]),Buffer.alloc(7));p=E.createProgramAddressSync(P,t)}catch(P){if(P instanceof TypeError)throw P;o++;continue}return{publicKey:p,nonce:o}}return d.logWithError("unable to find a viable program address nonce","params",{programId:t,marketId:n}),{publicKey:E.default,nonce:o}}};export{D as Market};
//# sourceMappingURL=serum.mjs.map