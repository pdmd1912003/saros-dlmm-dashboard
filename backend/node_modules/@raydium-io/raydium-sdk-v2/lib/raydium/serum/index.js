var V=Object.create;var x=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var I=(o,e)=>{for(var n in e)x(o,n,{get:e[n],enumerable:!0})},h=(o,e,n,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let u of N(e))!k.call(o,u)&&u!==n&&x(o,u,{get:()=>e[u],enumerable:!(s=G(e,u))||s.enumerable});return o};var K=(o,e,n)=>(n=o!=null?V(v(o)):{},h(e||!o||!o.__esModule?x(n,"default",{value:o,enumerable:!0}):n,o)),H=o=>h(x({},"__esModule",{value:!0}),o);var F={};I(F,{MARKET_STATE_LAYOUT_V3:()=>B,MARKET_VERSION_TO_STATE_LAYOUT:()=>A,Market:()=>S,SERUM_PROGRAMID_TO_VERSION:()=>b,SERUM_VERSION_TO_PROGRAMID:()=>m});module.exports=H(F);var t=require("@solana/web3.js"),Y=new t.PublicKey("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),J=new t.PublicKey("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),z=new t.PublicKey("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),j=new t.PublicKey("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),Q=new t.PublicKey("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),X=new t.PublicKey("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),g=new t.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),Z=new t.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),$=new t.PublicKey("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),ee=new t.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),te=new t.PublicKey("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),ne=new t.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),re=new t.PublicKey("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),oe=new t.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),se=new t.PublicKey("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),ue=new t.PublicKey("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),ae=new t.PublicKey("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),ie=new t.PublicKey("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),ce=new t.PublicKey("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),pe=new t.PublicKey("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),ye=new t.PublicKey("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),Pe=new t.PublicKey("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),de=new t.PublicKey("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),xe=new t.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),fe=new t.PublicKey("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),Le=new t.PublicKey("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),ge=new t.PublicKey("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),be=new t.PublicKey("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),me=new t.PublicKey("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),le=new t.PublicKey("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),_e=new t.PublicKey("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX");var Te={OPEN_BOOK_PROGRAM:new t.PublicKey("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new t.PublicKey("Ray1111111111111111111111111111111111111111"),AMM_V4:new t.PublicKey("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new t.PublicKey("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new t.PublicKey("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new t.PublicKey("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new t.PublicKey("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new t.PublicKey("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new t.PublicKey("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new t.PublicKey("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new t.PublicKey("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new t.PublicKey("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:t.PublicKey.default,Router:new t.PublicKey("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new t.PublicKey("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new t.PublicKey("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new t.PublicKey("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new t.PublicKey("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new t.PublicKey("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new t.PublicKey("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new t.PublicKey("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new t.PublicKey("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new t.PublicKey("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new t.PublicKey("Ray1111111111111111111111111111111111111111")};var b={[g.toBase58()]:3},m={3:g};var D=require("@solana/web3.js"),f=K(require("bn.js"));var r=require("@solana/buffer-layout"),l=r.Layout,E=r.Structure;var p=r.blob;var _=class extends l{constructor(n,s,u){super(n,u);this.blob=p(n),this.signed=s}decode(n,s=0){let u=new f.default(this.blob.decode(n,s),10,"le");return this.signed?u.fromTwos(this.span*8).clone():u}encode(n,s,u=0){return typeof n=="number"&&(n=new f.default(n)),this.signed&&(n=n.toTwos(this.span*8)),this.blob.encode(n.toArrayLike(Buffer,"le",this.span),s,u)}};function a(o){return new _(8,!1,o)}var T=class extends l{constructor(n,s,u,P){super(n.span,P);this.layout=n,this.decoder=s,this.encoder=u}decode(n,s){return this.decoder(this.layout.decode(n,s))}encode(n,s,u){return this.layout.encode(this.encoder(n),s,u)}getSpan(n,s){return this.layout.getSpan(n,s)}};function i(o){return new T(p(32),e=>new D.PublicKey(e),e=>e.toBuffer(),o)}var R=class extends E{decode(e,n){return super.decode(e,n)}};function U(o,e,n){return new R(o,e,n)}var B=U([p(5),p(8),i("ownAddress"),a("vaultSignerNonce"),i("baseMint"),i("quoteMint"),i("baseVault"),a("baseDepositsTotal"),a("baseFeesAccrued"),i("quoteVault"),a("quoteDepositsTotal"),a("quoteFeesAccrued"),a("quoteDustThreshold"),i("requestQueue"),i("eventQueue"),i("bids"),i("asks"),a("baseLotSize"),a("quoteLotSize"),a("feeRateBps"),a("referrerRebatesAccrued"),p(7)]),A={3:B};var M=require("@solana/web3.js");var y=require("lodash");var w=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let n=e.map(s=>typeof s=="object"?JSON.stringify(s):s).join(", ");throw new Error(n)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},C={},q={};function O(o){let e=(0,y.get)(C,o);if(!e){let n=(0,y.get)(q,o);e=new w({name:o,logLevel:n}),(0,y.set)(C,o,e)}return e}var L=O("Serum"),S=class{static getProgramId(e){let n=m[e];return n||L.logWithError("invalid version","version",e),n}static getVersion(e){let n=e.toBase58(),s=b[n];return s||L.logWithError("invalid program id","programId",n),s}static getStateLayout(e){let n=A[e];return n||L.logWithError(!!n,"invalid version","version",e),n}static getLayouts(e){return{state:this.getStateLayout(e)}}static getAssociatedAuthority({programId:e,marketId:n}){let s=[n.toBuffer()],u=0,P;for(;u<100;){try{let d=s.concat(Buffer.from([u]),Buffer.alloc(7));P=M.PublicKey.createProgramAddressSync(d,e)}catch(d){if(d instanceof TypeError)throw d;u++;continue}return{publicKey:P,nonce:u}}return L.logWithError("unable to find a viable program address nonce","params",{programId:e,marketId:n}),{publicKey:M.PublicKey.default,nonce:u}}};0&&(module.exports={MARKET_STATE_LAYOUT_V3,MARKET_VERSION_TO_STATE_LAYOUT,Market,SERUM_PROGRAMID_TO_VERSION,SERUM_VERSION_TO_PROGRAMID});
//# sourceMappingURL=index.js.map